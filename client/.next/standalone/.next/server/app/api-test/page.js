(()=>{var e={};e.id=645,e.ids=[645],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},35362:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>o}),t(77018),t(85375),t(35866);var a=t(23191),r=t(88716),i=t(37922),n=t.n(i),l=t(95231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let o=["",{children:["api-test",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,77018)),"/Users/masumbillahzihadi/PROJECTS/itransition/PROJECTS/ReadyForms/ReadyForms/client/src/app/api-test/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,85375)),"/Users/masumbillahzihadi/PROJECTS/itransition/PROJECTS/ReadyForms/ReadyForms/client/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/masumbillahzihadi/PROJECTS/itransition/PROJECTS/ReadyForms/ReadyForms/client/src/app/api-test/page.tsx"],m="/api-test/page",u={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/api-test/page",pathname:"/api-test",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},1239:(e,s,t)=>{Promise.resolve().then(t.bind(t,48209))},75290:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},48209:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var a=t(10326),r=t(17577),i=t(29752),n=t(75290),l=t(76557);let c=(0,l.Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),o=(0,l.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var d=t(91664),m=t(99744),u=t(3422),h=t(89246);let p={async testConnection(){try{let e=h.Z.defaults.baseURL||"No base URL configured";console.log("Testing connection to API server:",e);let s=Date.now();await h.Z.get("/health/ping");let t=Date.now();return{success:!0,message:`Connection successful (${t-s}ms)`,baseUrl:e,timestamp:new Date,cors:{status:"ok"}}}catch(s){let e=!s.response&&"Network Error"===s.message;return{success:!1,message:s.message||"Connection failed",error:{status:s.response?.status,data:s.response?.data,message:s.message},baseUrl:h.Z.defaults.baseURL||"No base URL configured",timestamp:new Date,cors:e?{status:"error",message:"This appears to be a CORS error. The server may not be properly configured to allow cross-origin requests."}:void 0}}},async testCorsConfig(){try{let e=await h.Z.get("/health/cors");return{success:!0,message:"CORS configuration is working correctly",data:e.data,timestamp:new Date}}catch(e){return{success:!1,message:"CORS configuration test failed",error:{status:e.response?.status,data:e.response?.data,message:e.message},timestamp:new Date}}},async testAuth(){try{let e=await h.Z.get("/auth/check",{withCredentials:!0});return{success:!0,message:"Authentication check successful",isAuthenticated:e.data?.authenticated||!1,user:e.data?.user||null,timestamp:new Date}}catch(e){return{success:!1,message:e.response?.data?.message||"Authentication check failed",error:{status:e.response?.status,data:e.response?.data,message:e.message},isAuthenticated:!1,timestamp:new Date}}},getClientInfo:()=>({apiUrl:h.Z.defaults.baseURL,environment:"production",appName:"ReadyForms",clientHost:"SSR",cors:{credentials:h.Z.defaults.withCredentials}})};var x=t(23042),f=t(37945);function g(){let[e,s]=(0,r.useState)("health"),[t,l]=(0,r.useState)(!1),[h,g]=(0,r.useState)(null),[j,y]=(0,r.useState)([]),[v,b]=(0,r.useState)(null),N=async()=>{l(!0);try{let e=await u.ZP.checkHealth();g(e)}catch(e){console.error("Error checking API health:",e),g({status:"unhealthy",message:e instanceof Error?e.message:"Unknown error"})}finally{l(!1)}},w=async()=>{l(!0);try{let e=await x.t.getTemplates({limit:5});y(e)}catch(e){console.error("Error fetching templates:",e),y([])}finally{l(!1)}},C=async()=>{l(!0);try{let e=await p.testAuth();b(e)}catch(e){console.error("Error testing auth API:",e),b({success:!1,message:e instanceof Error?e.message:"Unknown error"})}finally{l(!1)}};return(0,a.jsxs)("div",{className:"container py-10",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"API Test Dashboard"}),a.jsx("p",{className:"text-muted-foreground mb-8",children:"This page helps diagnose connectivity issues between the frontend and backend."}),(0,a.jsxs)(m.mQ,{defaultValue:"health",value:e,onValueChange:s,children:[(0,a.jsxs)(m.dr,{className:"mb-6",children:[a.jsx(m.SP,{value:"health",children:"API Health"}),a.jsx(m.SP,{value:"templates",children:"Templates"}),a.jsx(m.SP,{value:"auth",children:"Authentication"})]}),a.jsx(m.nU,{value:"health",children:(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[a.jsx(i.ll,{children:"API Health Check"}),a.jsx(i.SZ,{children:"Tests basic connectivity to the backend API server"})]}),a.jsx(i.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"font-semibold",children:"Status:"}),(0,a.jsxs)("div",{className:"flex items-center",children:[t?a.jsx(n.Z,{className:"h-5 w-5 animate-spin mr-2 text-muted-foreground"}):h?.status==="healthy"?a.jsx(c,{className:"h-5 w-5 text-green-500 mr-2"}):a.jsx(o,{className:"h-5 w-5 text-red-500 mr-2"}),a.jsx("span",{className:h?.status==="healthy"?"text-green-500":"text-red-500",children:h?.status||"Unknown"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"font-semibold mb-1",children:"Message:"}),a.jsx("div",{className:"text-sm",children:h?.message||"No status message"})]}),h?.endpoints&&(0,a.jsxs)("div",{children:[a.jsx("div",{className:"font-semibold mb-2",children:"Endpoints:"}),a.jsx("div",{className:"space-y-2",children:Object.entries(h.endpoints).map(([e,s])=>(0,a.jsxs)("div",{className:"flex justify-between items-center bg-muted p-2 rounded text-sm",children:[a.jsx("div",{className:"font-mono",children:e}),(0,a.jsxs)("div",{className:"ok"===s.status?"text-green-500":"text-red-500",children:[s.status.toUpperCase(),s.responseTime&&` (${s.responseTime}ms)`]})]},e))})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"font-semibold",children:"Configuration:"}),a.jsx("pre",{className:"bg-muted p-4 rounded-md text-xs overflow-auto mt-2 max-h-48",children:JSON.stringify(p.getClientInfo(),null,2)})]})]})}),a.jsx(i.eW,{children:(0,a.jsxs)(d.z,{onClick:N,disabled:t,children:[t&&a.jsx(n.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Refresh Status"]})})]})}),a.jsx(m.nU,{value:"templates",children:(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[a.jsx(i.ll,{children:"Template API Test"}),a.jsx(i.SZ,{children:"Tests the template API endpoints"})]}),a.jsx(i.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"font-semibold",children:"Templates API Status:"}),a.jsx("div",{children:j.length>0?(0,a.jsxs)("span",{className:"text-green-500 flex items-center",children:[a.jsx(c,{className:"h-5 w-5 mr-2"}),"Working"]}):(0,a.jsxs)("span",{className:"text-orange-500 flex items-center",children:[a.jsx(o,{className:"h-5 w-5 mr-2"}),"No templates fetched"]})})]}),j.length>0?(0,a.jsxs)("div",{children:[a.jsx("div",{className:"font-semibold mt-4 mb-2",children:"Fetched Templates:"}),a.jsx("div",{className:"space-y-2",children:j.map(e=>(0,a.jsxs)("div",{className:"bg-muted p-3 rounded",children:[a.jsx("div",{className:"font-medium",children:e.title}),a.jsx("div",{className:"text-sm text-muted-foreground",children:e.description})]},e.id))})]}):(0,a.jsxs)("div",{className:"text-center py-10 bg-muted rounded-md",children:[a.jsx("div",{className:"text-lg font-medium mb-2",children:"No templates"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:t?"Loading templates...":"Either the API is not responding or there are no templates in the database."})]})]})}),a.jsx(i.eW,{children:(0,a.jsxs)(d.z,{onClick:w,disabled:t,children:[t&&a.jsx(n.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Fetch Templates"]})})]})}),a.jsx(m.nU,{value:"auth",children:(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[a.jsx(i.ll,{children:"Authentication API Test"}),a.jsx(i.SZ,{children:"Tests the authentication API endpoints"})]}),a.jsx(i.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"font-semibold",children:"Auth API Status:"}),a.jsx("div",{children:v?(0,a.jsxs)("span",{className:`flex items-center ${v.success?"text-green-500":"text-red-500"}`,children:[v.success?a.jsx(c,{className:"h-5 w-5 mr-2"}):a.jsx(o,{className:"h-5 w-5 mr-2"}),v.success?"Working":"Error"]}):a.jsx("span",{className:"text-muted-foreground",children:"Not tested yet"})})]}),v&&(0,a.jsxs)("div",{children:[a.jsx("div",{className:"font-semibold mb-1",children:"Message:"}),a.jsx("div",{className:"text-sm",children:v.message}),void 0!==v.isAuthenticated&&(0,a.jsxs)("div",{className:"mt-2",children:[a.jsx("span",{className:"font-semibold",children:"Authentication status: "}),a.jsx("span",{className:v.isAuthenticated?"text-green-500":"text-muted-foreground",children:v.isAuthenticated?"Authenticated":"Not authenticated"})]}),v.user&&(0,a.jsxs)("div",{className:"mt-4",children:[a.jsx("div",{className:"font-semibold mb-1",children:"User Information:"}),a.jsx("pre",{className:"bg-muted p-4 rounded-md text-xs overflow-auto max-h-48",children:JSON.stringify(v.user,null,2)})]}),v.error&&(0,a.jsxs)("div",{className:"mt-4",children:[a.jsx("div",{className:"font-semibold mb-1",children:"Error Details:"}),a.jsx("pre",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-md text-xs overflow-auto text-red-800 dark:text-red-300 max-h-48",children:JSON.stringify(v.error,null,2)})]})]}),(0,a.jsxs)("div",{className:"bg-muted p-4 rounded-md",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Authentication Quick Test"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx(d.z,{variant:"outline",size:"sm",onClick:async()=>{try{l(!0);let e=await f.O.login("user@example.com","user123");alert(e.success?"Login successful!":`Login failed: ${e.message}`)}catch(e){alert(`Error: ${e instanceof Error?e.message:"Unknown error"}`)}finally{l(!1)}},disabled:t,children:"Test Login"}),a.jsx(d.z,{variant:"outline",size:"sm",onClick:async()=>{try{l(!0);let e={name:`Test User ${Math.floor(1e3*Math.random())}`,email:`test${Math.floor(1e4*Math.random())}@example.com`,password:"password123"},s=await f.O.register(e.name,e.email,e.password);alert(s.success?`Registration successful! Email: ${e.email}`:`Registration failed: ${s.message}`)}catch(e){alert(`Error: ${e instanceof Error?e.message:"Unknown error"}`)}finally{l(!1)}},disabled:t,children:"Test Registration"})]})]})]})}),a.jsx(i.eW,{children:(0,a.jsxs)(d.z,{onClick:C,disabled:t,children:[t&&a.jsx(n.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Test Auth API"]})})]})})]})]})}},29752:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>l,SZ:()=>o,Zb:()=>n,aY:()=>d,eW:()=>m,ll:()=>c});var a=t(10326),r=t(17577),i=t(51223);let n=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));n.displayName="Card";let l=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...s}));l.displayName="CardHeader";let c=r.forwardRef(({className:e,...s},t)=>a.jsx("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));c.displayName="CardTitle";let o=r.forwardRef(({className:e,...s},t)=>a.jsx("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));o.displayName="CardDescription";let d=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...s}));d.displayName="CardContent";let m=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...s}));m.displayName="CardFooter"},99744:(e,s,t)=>{"use strict";t.d(s,{mQ:()=>A,nU:()=>Z,dr:()=>E,SP:()=>S});var a=t(10326),r=t(17577),i=t(82561),n=t(93095),l=t(15594),c=t(9815),o=t(45226),d=t(17124),m=t(52067),u=t(88957),h="Tabs",[p,x]=(0,n.b)(h,[l.Pc]),f=(0,l.Pc)(),[g,j]=p(h),y=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:r,onValueChange:i,defaultValue:n,orientation:l="horizontal",dir:c,activationMode:p="automatic",...x}=e,f=(0,d.gm)(c),[j,y]=(0,m.T)({prop:r,onChange:i,defaultProp:n??"",caller:h});return(0,a.jsx)(g,{scope:t,baseId:(0,u.M)(),value:j,onValueChange:y,orientation:l,dir:f,activationMode:p,children:(0,a.jsx)(o.WV.div,{dir:f,"data-orientation":l,...x,ref:s})})});y.displayName=h;var v="TabsList",b=r.forwardRef((e,s)=>{let{__scopeTabs:t,loop:r=!0,...i}=e,n=j(v,t),c=f(t);return(0,a.jsx)(l.fC,{asChild:!0,...c,orientation:n.orientation,dir:n.dir,loop:r,children:(0,a.jsx)(o.WV.div,{role:"tablist","aria-orientation":n.orientation,...i,ref:s})})});b.displayName=v;var N="TabsTrigger",w=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:r,disabled:n=!1,...c}=e,d=j(N,t),m=f(t),u=P(d.baseId,r),h=R(d.baseId,r),p=r===d.value;return(0,a.jsx)(l.ck,{asChild:!0,...m,focusable:!n,active:p,children:(0,a.jsx)(o.WV.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:u,...c,ref:s,onMouseDown:(0,i.M)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(r)}),onKeyDown:(0,i.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(r)}),onFocus:(0,i.M)(e.onFocus,()=>{let e="manual"!==d.activationMode;p||n||!e||d.onValueChange(r)})})})});w.displayName=N;var C="TabsContent",T=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:i,forceMount:n,children:l,...d}=e,m=j(C,t),u=P(m.baseId,i),h=R(m.baseId,i),p=i===m.value,x=r.useRef(p);return r.useEffect(()=>{let e=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(c.z,{present:n||p,children:({present:t})=>(0,a.jsx)(o.WV.div,{"data-state":p?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":u,hidden:!t,id:h,tabIndex:0,...d,ref:s,style:{...e.style,animationDuration:x.current?"0s":void 0},children:t&&l})})});function P(e,s){return`${e}-trigger-${s}`}function R(e,s){return`${e}-content-${s}`}T.displayName=C;var k=t(51223);let A=y,E=r.forwardRef(({className:e,...s},t)=>a.jsx(b,{ref:t,className:(0,k.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));E.displayName=b.displayName;let S=r.forwardRef(({className:e,...s},t)=>a.jsx(w,{ref:t,className:(0,k.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));S.displayName=w.displayName;let Z=r.forwardRef(({className:e,...s},t)=>a.jsx(T,{ref:t,className:(0,k.cn)("ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));Z.displayName=T.displayName},23042:(e,s,t)=>{"use strict";t.d(s,{t:()=>r});var a=t(89246);let r={async getTemplates(e){try{return(await a.Z.get("/templates",{params:e})).data}catch(e){return console.error("Error fetching templates:",e),[]}},async getTemplateById(e){try{return(await a.Z.get(`/templates/${e}`)).data}catch(s){return console.error(`Error fetching template ${e}:`,s),null}},async searchTemplates(e,s){try{let t={query:e,limit:s?.limit||10,page:s?.page||1,topicId:s?.topicId,tag:s?.tag,sort:s?.sort||"newest"};return(await a.Z.get("/templates/search",{params:t})).data}catch(e){return console.error("Error searching templates:",e),[]}},async getFeaturedTemplates(e=6){try{return(await a.Z.get("/templates",{params:{limit:e,page:1}})).data}catch(e){return console.error("Error fetching featured templates:",e),[]}},async getTemplatesByTopic(e,s){try{return(await a.Z.get("/templates/search",{params:{topicId:e,limit:s?.limit||10,page:s?.page||1}})).data}catch(s){return console.error(`Error fetching templates for topic ${e}:`,s),[]}},async deleteTemplate(e,s){try{return await a.Z.delete(`/templates/${e}`,{data:{version:s}}),!0}catch(s){throw console.error(`Error deleting template ${e}:`,s),s}},async createTemplate(e){try{return(await a.Z.post("/templates",e)).data}catch(e){throw console.error("Error creating template:",e),e}},async updateTemplate(e,s){try{return(await a.Z.put(`/templates/${e}`,s)).data.template}catch(s){throw console.error(`Error updating template ${e}:`,s),s}}}},77018:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/Users/masumbillahzihadi/PROJECTS/itransition/PROJECTS/ReadyForms/ReadyForms/client/src/app/api-test/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[885,69],()=>t(35362));module.exports=a})();