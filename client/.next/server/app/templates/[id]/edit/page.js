(()=>{var e={};e.id=812,e.ids=[812],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},2170:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>u,routeModule:()=>c,tree:()=>d}),r(6052),r(9193),r(5866);var s=r(3191),i=r(8716),a=r(7922),n=r.n(a),l=r(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["templates",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6052)),"/Users/masumbillahzihadi/PROJECTS/itransition/PROJECTS/ReadyForms/ReadyForms/client/src/app/templates/[id]/edit/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9193)),"/Users/masumbillahzihadi/PROJECTS/itransition/PROJECTS/ReadyForms/ReadyForms/client/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/masumbillahzihadi/PROJECTS/itransition/PROJECTS/ReadyForms/ReadyForms/client/src/app/templates/[id]/edit/page.tsx"],p="/templates/[id]/edit/page",m={require:r,loadChunk:()=>Promise.resolve()},c=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/templates/[id]/edit/page",pathname:"/templates/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2540:(e,t,r)=>{Promise.resolve().then(r.bind(r,1670))},1670:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(326),i=r(7577),a=r(5047),n=r(3042);r(8453);var l=r(3053),o=r(6627),d=r(9906),u=r(7188);function p({message:e="Loading...",size:t="medium"}){return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center p-8",children:[s.jsx("div",{className:`${{small:"w-4 h-4",medium:"w-8 h-8",large:"w-12 h-12"}[t]} border-2 border-t-primary border-r-transparent border-b-primary border-l-transparent rounded-full animate-spin mb-4`}),s.jsx("p",{className:`${{small:"text-sm",medium:"text-base",large:"text-lg"}[t]} text-muted-foreground`,children:e})]})}function m({params:e}){let[t,r]=(0,i.useState)(null),[m,c]=(0,i.useState)([]),[x,h]=(0,i.useState)(!0),[g,f]=(0,i.useState)(!1),[y,P]=(0,i.useState)(null),b=(0,a.useRouter)(),v=(0,l.a)(),q=v?.user,R=async t=>{if(!y){(0,o.Am)({title:"Error",description:"Could not determine template version. Please reload the page.",variant:"destructive"});return}try{f(!0);let r={...t,version:y};await n.t.updateTemplate(e.id,r,y),(0,o.Am)({title:"Success",description:"Template updated successfully."}),b.push(`/templates/${e.id}`)}catch(e){if(console.error("Error updating template:",e),e?.message?.includes("Version conflict")){(0,o.Am)({title:"Update conflict",description:"This template was modified by someone else. Please refresh and try again.",variant:"destructive"});return}(0,o.Am)({title:"Error",description:"Failed to update template. Please try again.",variant:"destructive"})}finally{f(!1)}};return q?(0,s.jsxs)(d.c,{user:{name:q.name||"",email:q.email||"",isAdmin:q.isAdmin||!1},onLogout:()=>{v?.logout&&(v.logout(),b.push("/auth/login"))},children:[(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Edit Template"}),s.jsx("p",{className:"text-muted-foreground",children:"Update your form template"})]}),x?s.jsx(p,{message:"Loading template data..."}):s.jsx(u.O,{topics:m,initialData:t,handleSave:R,handleCancel:()=>{b.push(`/templates/${e.id}`)},isSubmitting:g})]}):s.jsx(p,{message:"Please wait..."})}},6052:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`/Users/masumbillahzihadi/PROJECTS/itransition/PROJECTS/ReadyForms/ReadyForms/client/src/app/templates/[id]/edit/page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[555,236,136,281,497,548],()=>r(2170));module.exports=s})();