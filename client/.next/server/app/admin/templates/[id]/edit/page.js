(()=>{var e={};e.id=489,e.ids=[489],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},58316:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c}),s(82764),s(24465),s(35866);var a=s(23191),r=s(88716),i=s(37922),n=s.n(i),l=s(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["admin",{children:["templates",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,82764)),"/Users/masumbillahzihadi/PROJECTS/itransition/PROJECTS/ReadyForms/ReadyForms/client/src/app/admin/templates/[id]/edit/page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,24465)),"/Users/masumbillahzihadi/PROJECTS/itransition/PROJECTS/ReadyForms/ReadyForms/client/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/masumbillahzihadi/PROJECTS/itransition/PROJECTS/ReadyForms/ReadyForms/client/src/app/admin/templates/[id]/edit/page.tsx"],m="/admin/templates/[id]/edit/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/templates/[id]/edit/page",pathname:"/admin/templates/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},43791:(e,t,s)=>{Promise.resolve().then(s.bind(s,47579))},8798:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]])},47579:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var a=s(10326),r=s(17577),i=s(49538),n=s(29752),l=s(91664),o=s(41190),c=s(82015),d=s(53586),m=s(35047),u=s(56627),p=s(99744),h=s(9280),x=s(59008),f=s(23042);s(25093);var g=s(76557);let j=(0,g.Z)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var y=s(47035),b=s(11890);let v=(0,g.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);var w=s(88378);let N=(0,g.Z)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),k=(0,g.Z)("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);var C=s(8798),Z=s(51996);let $=(0,g.Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var S=s(74723),T=s(74064),z=s(27256),R=s(38227),q=s(90434),I=s(29280),P=s(40815),E=s(77197),A=s(82616);let F=z.Ry({title:z.Z_().min(1,"Title is required").max(100,"Title is too long"),description:z.Z_().optional(),topicId:z.Z_().min(1,"Topic is required"),isPublic:z.O7(),allowedUsers:z.Z_().optional(),isQuiz:z.O7().optional(),showScoreImmediately:z.O7().optional(),scoringCriteria:z.Z_().optional()}),O=({id:e,label:t,enabled:s,question:r,onToggle:i,onQuestionChange:n,onDelete:c,maxFields:d,currentFieldCount:m})=>{let{attributes:u,listeners:p,setNodeRef:x,transform:f,transition:g,isDragging:b}=(0,E.nB)({id:e}),v={transform:A.ux.Transform.toString(f),transition:g,opacity:b?.5:1,zIndex:b?2:1};return(0,a.jsxs)("div",{ref:x,style:v,className:"mb-4 border rounded-md p-4 bg-background",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{...u,...p,className:"cursor-grab p-1",children:a.jsx(j,{className:"h-5 w-5 text-muted-foreground"})}),a.jsx("h4",{className:"font-medium",children:t})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[m&&m>1&&a.jsx(l.z,{variant:"ghost",size:"sm",onClick:c,className:"h-8 w-8 p-0",title:"Remove question",children:a.jsx(y.Z,{className:"h-4 w-4 text-muted-foreground"})}),a.jsx(h.X,{id:`toggle-${e}`,checked:s,onCheckedChange:i})]})]}),a.jsx("div",{className:`transition-all ${s?"opacity-100":"opacity-50"}`,children:a.jsx(o.I,{value:r,onChange:e=>n(e.target.value),placeholder:"Enter question text",disabled:!s,className:"mt-2"})})]})};function _({params:e}){let[t,s]=(0,r.useState)(null),[g,j]=(0,r.useState)([]),[y,z]=(0,r.useState)(!0),[A,_]=(0,r.useState)(!1),[M,U]=(0,r.useState)([]),[J,V]=(0,r.useState)("general"),D=(0,d.a)(),Q=D?.user,G=D?.logout,X=(0,m.useRouter)(),W=(0,S.cI)({resolver:(0,T.F)(F),defaultValues:{title:"",description:"",topicId:"",isPublic:!0,allowedUsers:"",isQuiz:!1,showScoreImmediately:!1,scoringCriteria:""}}),B=(0,P.Dy)((0,P.VT)(P.we),(0,P.VT)(P.Lg,{coordinateGetter:E.is})),L=()=>{G&&(G(),X.push("/auth/login"))},Y=(e,a)=>{if(!t)return;let r=`${e}State`;s({...t,[r]:a}),a&&!M.includes(e)&&U([...M,e])},H=(e,a)=>{if(!t)return;let r=`${e}Question`;s({...t,[r]:a})},K=e=>{if(t){for(let a=1;a<=4;a++){let r=`custom${e}${a}`,i=`${r}State`;if(!t[i]){Y(r,!0);let a=`${r}Question`;s({...t,[i]:!0,[a]:`New ${e} Question`}),M.includes(r)||U([...M,r]);return}}(0,u.Am)({title:"Maximum fields reached",description:`You can have at most 4 ${e.toLowerCase()} questions.`,variant:"default"})}},ee=e=>{if(!t)return;let a=`${e}State`;s({...t,[a]:!1}),U(M.filter(t=>t!==e))},et=e=>{if(!t)return 0;let s=0;for(let a=1;a<=4;a++)t[`custom${e}${a}State`]&&s++;return s},es=async a=>{if(t)try{_(!0);let r={...a,version:t.version,questionOrder:JSON.stringify(M)};for(let e=1;e<=4;e++)["String","Text","Int","Checkbox"].forEach(s=>{let a=`custom${s}${e}`,i=`${a}State`,n=`${a}Question`;r[i]=t[i]||!1,r[n]=t[n]||""});let i=await f.tE.updateTemplate(e.id,r);s({...t,...i.template,version:i.version}),(0,u.Am)({title:"Success",description:"Template saved successfully",variant:"default"})}catch(e){console.error("Error saving template:",e),(0,u.Am)({title:"Error",description:"Failed to save template. Please try again.",variant:"destructive"})}finally{_(!1)}};return y||!t?(0,a.jsxs)(i.c,{user:{name:Q?.name||"Admin User",email:Q?.email||"admin@example.com",isAdmin:!0},onLogout:L,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(l.z,{variant:"outline",size:"icon",disabled:!0,children:a.jsx(b.Z,{className:"h-4 w-4"})}),a.jsx(R.O,{className:"h-8 w-48"})]}),a.jsx(R.O,{className:"h-10 w-24"})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(R.O,{className:"h-8 w-60 mb-2"}),a.jsx(R.O,{className:"h-4 w-full max-w-sm"})]}),a.jsx(n.aY,{className:"space-y-4",children:Array.from({length:6}).map((e,t)=>a.jsx(R.O,{className:"h-12 w-full"},t))})]})]}):(0,a.jsxs)(i.c,{user:{name:Q?.name||"Admin User",email:Q?.email||"admin@example.com",isAdmin:!0},onLogout:L,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(l.z,{variant:"outline",size:"icon",asChild:!0,children:a.jsx(q.default,{href:"/admin/templates",children:a.jsx(b.Z,{className:"h-4 w-4"})})}),a.jsx("h1",{className:"text-2xl font-bold",children:"Edit Template"})]}),a.jsx(l.z,{onClick:W.handleSubmit(es),disabled:A,className:"gap-2",children:A?a.jsx(a.Fragment,{children:"Saving"}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(v,{className:"h-4 w-4"}),"Save Changes"]})})]}),(0,a.jsxs)(p.mQ,{defaultValue:"general",value:J,onValueChange:V,children:[(0,a.jsxs)(p.dr,{className:"mb-4",children:[(0,a.jsxs)(p.SP,{value:"general",className:"gap-2",children:[a.jsx(w.Z,{className:"h-4 w-4"}),"General Settings"]}),(0,a.jsxs)(p.SP,{value:"questions",className:"gap-2",children:[a.jsx(N,{className:"h-4 w-4"}),"Questions"]}),(0,a.jsxs)(p.SP,{value:"responses",className:"gap-2",children:[a.jsx(k,{className:"h-4 w-4"}),"Responses"]}),(0,a.jsxs)(p.SP,{value:"access",className:"gap-2",children:[a.jsx(C.Z,{className:"h-4 w-4"}),"Access Control"]})]}),a.jsx(p.nU,{value:"general",children:(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{children:"General Template Settings"}),a.jsx(n.SZ,{children:"Update the basic information for this template"})]}),a.jsx(n.aY,{children:a.jsx(x.l0,{...W,children:(0,a.jsxs)("form",{className:"space-y-6",children:[a.jsx(x.Wi,{control:W.control,name:"title",render:({field:e})=>(0,a.jsxs)(x.xJ,{children:[a.jsx(x.lX,{children:"Template Title"}),a.jsx(x.NI,{children:a.jsx(o.I,{placeholder:"Enter template title",...e})}),a.jsx(x.zG,{})]})}),a.jsx(x.Wi,{control:W.control,name:"description",render:({field:e})=>(0,a.jsxs)(x.xJ,{children:[a.jsx(x.lX,{children:"Description"}),a.jsx(x.NI,{children:a.jsx(c.g,{placeholder:"Enter a description of this template",...e})}),a.jsx(x.zG,{})]})}),a.jsx(x.Wi,{control:W.control,name:"topicId",render:({field:e})=>(0,a.jsxs)(x.xJ,{children:[a.jsx(x.lX,{children:"Topic"}),(0,a.jsxs)(I.Ph,{value:e.value,onValueChange:e.onChange,children:[a.jsx(x.NI,{children:a.jsx(I.i4,{children:a.jsx(I.ki,{placeholder:"Select a topic"})})}),a.jsx(I.Bw,{children:g.map(e=>a.jsx(I.Ql,{value:e.id,children:e.name},e.id))})]}),a.jsx(x.zG,{})]})}),a.jsx(x.Wi,{control:W.control,name:"isPublic",render:({field:e})=>(0,a.jsxs)(x.xJ,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[a.jsx(x.NI,{children:a.jsx(h.X,{checked:e.value,onCheckedChange:e.onChange})}),(0,a.jsxs)("div",{className:"space-y-1 leading-none",children:[a.jsx(x.lX,{children:"Make this template public"}),a.jsx(x.pf,{children:"Public templates are visible to all users. Private templates are only visible to you and selected users."})]})]})}),a.jsx(x.Wi,{control:W.control,name:"isQuiz",render:({field:e})=>(0,a.jsxs)(x.xJ,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[a.jsx(x.NI,{children:a.jsx(h.X,{checked:e.value,onCheckedChange:e.onChange})}),(0,a.jsxs)("div",{className:"space-y-1 leading-none",children:[a.jsx(x.lX,{children:"Is this a quiz?"}),a.jsx(x.pf,{children:"Enable quiz-related options for this template."})]})]})}),W.watch("isQuiz")&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(x.Wi,{control:W.control,name:"showScoreImmediately",render:({field:e})=>(0,a.jsxs)(x.xJ,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[a.jsx(x.NI,{children:a.jsx(h.X,{checked:e.value,onCheckedChange:e.onChange})}),(0,a.jsxs)("div",{className:"space-y-1 leading-none",children:[a.jsx(x.lX,{children:"Show score immediately after submission"}),a.jsx(x.pf,{children:"Display the score to the user right after they submit the quiz."})]})]})}),a.jsx(x.Wi,{control:W.control,name:"scoringCriteria",render:({field:e})=>(0,a.jsxs)(x.xJ,{children:[a.jsx(x.lX,{children:"Scoring Criteria (JSON format)"}),a.jsx(x.NI,{children:a.jsx(c.g,{placeholder:'{"question1": {"answer": "A", "points": 10}}',...e})}),a.jsx(x.pf,{children:"Define the scoring criteria for the quiz in JSON format."}),a.jsx(x.zG,{})]})})]})]})})})]})}),a.jsx(p.nU,{value:"questions",children:(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(n.ll,{children:"Questions"}),a.jsx(n.SZ,{children:"Configure and reorder the questions in this template"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>K("String"),disabled:et("String")>=4,className:"gap-1",children:[a.jsx(Z.Z,{className:"h-3.5 w-3.5"}),"Add Text Field"]}),(0,a.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>K("Text"),disabled:et("Text")>=4,className:"gap-1",children:[a.jsx(Z.Z,{className:"h-3.5 w-3.5"}),"Add Text Area"]}),(0,a.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>K("Int"),disabled:et("Int")>=4,className:"gap-1",children:[a.jsx(Z.Z,{className:"h-3.5 w-3.5"}),"Add Number"]}),(0,a.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>K("Checkbox"),disabled:et("Checkbox")>=4,className:"gap-1",children:[a.jsx(Z.Z,{className:"h-3.5 w-3.5"}),"Add Checkbox"]})]})]})}),(0,a.jsxs)(n.aY,{children:[(0,a.jsxs)("div",{className:"bg-muted/30 rounded-md p-4 mb-4 flex items-center gap-3",children:[a.jsx($,{className:"h-5 w-5 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag and drop questions to reorder them. Toggle the checkbox to enable or disable a question."})]}),(0,a.jsxs)("div",{className:"space-y-2 py-2",children:[a.jsx(P.LB,{sensors:B,collisionDetection:P.pE,onDragEnd:e=>{let{active:t,over:s}=e;s&&t.id!==s.id&&U(e=>{let a=e.indexOf(t.id.toString()),r=e.indexOf(s.id.toString());return(0,E.Rp)(e,a,r)})},children:a.jsx(E.Fo,{items:M,strategy:E.qw,children:M.map(e=>{let s;let r=`${e}State`,i=`${e}Question`,n=e.match(/custom([A-Za-z]+)(\d)/);if(!n)return null;let[,l,o]=n;switch(l){case"String":s=`Text Field ${o}`;break;case"Text":s=`Text Area ${o}`;break;case"Int":s=`Number ${o}`;break;case"Checkbox":s=`Checkbox ${o}`;break;default:s=`Question ${o}`}return a.jsx(O,{id:e,label:s,enabled:t[r]||!1,question:t[i]||"",onToggle:t=>Y(e,t),onQuestionChange:t=>H(e,t),onDelete:()=>ee(e),currentFieldCount:M.filter(e=>e.includes(l)).length,maxFields:4},e)})})}),0===M.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-lg font-medium text-muted-foreground",children:"No questions yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add questions using the buttons above"})]})]})]})]})}),a.jsx(p.nU,{value:"responses",children:(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{children:"Form Responses"}),a.jsx(n.SZ,{children:"View all submissions for this template"})]}),a.jsx(n.aY,{className:"flex flex-col items-center justify-center py-8",children:(0,a.jsxs)(l.z,{variant:"default",onClick:()=>X.push(`/admin/templates/${e.id}/responses`),className:"gap-2",children:[a.jsx(N,{className:"h-4 w-4"}),"View All Responses"]})})]})}),a.jsx(p.nU,{value:"access",children:(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{children:"Access Control"}),a.jsx(n.SZ,{children:"Configure who can access this template"})]}),a.jsx(n.aY,{children:a.jsx(x.l0,{...W,children:(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx(x.Wi,{control:W.control,name:"isPublic",render:({field:e})=>(0,a.jsxs)(x.xJ,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[a.jsx(x.NI,{children:a.jsx(h.X,{checked:e.value,onCheckedChange:e.onChange})}),(0,a.jsxs)("div",{className:"space-y-1 leading-none",children:[a.jsx(x.lX,{children:"Make this template public"}),a.jsx(x.pf,{children:"Public templates are visible to all users. Private templates are only visible to you and selected users."})]})]})}),!W.watch("isPublic")&&a.jsx(x.Wi,{control:W.control,name:"allowedUsers",render:({field:e})=>(0,a.jsxs)(x.xJ,{children:[a.jsx(x.lX,{children:"Allowed Users"}),a.jsx(x.NI,{children:a.jsx(c.g,{placeholder:"Enter user IDs separated by commas",...e})}),a.jsx(x.pf,{children:"Enter the IDs of users who should have access to this template, separated by commas."}),a.jsx(x.zG,{})]})})]})})}),(0,a.jsxs)(n.eW,{className:"border-t pt-6 flex justify-between",children:[a.jsx(l.z,{variant:"outline",children:"Cancel"}),a.jsx(l.z,{onClick:W.handleSubmit(es),disabled:A,children:A?"Saving...":"Save Changes"})]})]})})]})]})}},9280:(e,t,s)=>{"use strict";s.d(t,{X:()=>o});var a=s(10326),r=s(17577),i=s(13635),n=s(32933),l=s(51223);let o=r.forwardRef(({className:e,...t},s)=>a.jsx(i.fC,{ref:s,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(i.z$,{className:(0,l.cn)("flex items-center justify-center text-current"),children:a.jsx(n.Z,{className:"h-4 w-4"})})}));o.displayName=i.fC.displayName},59008:(e,t,s)=>{"use strict";s.d(t,{l0:()=>m,NI:()=>j,pf:()=>y,Wi:()=>p,xJ:()=>f,lX:()=>g,zG:()=>b});var a=s(10326),r=s(17577),i=s(34214),n=s(74723),l=s(51223),o=s(34478);let c=(0,s(79360).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef(({className:e,...t},s)=>a.jsx(o.f,{ref:s,className:(0,l.cn)(c(),e),...t}));d.displayName=o.f.displayName;let m=n.RV,u=r.createContext({}),p=({...e})=>a.jsx(u.Provider,{value:{name:e.name},children:a.jsx(n.Qr,{...e})}),h=()=>{let e=r.useContext(u),t=r.useContext(x),{getFieldState:s,formState:a}=(0,n.Gc)(),i=s(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...i}},x=r.createContext({}),f=r.forwardRef(({className:e,...t},s)=>{let i=r.useId();return a.jsx(x.Provider,{value:{id:i},children:a.jsx("div",{ref:s,className:(0,l.cn)("space-y-2",e),...t})})});f.displayName="FormItem";let g=r.forwardRef(({className:e,...t},s)=>{let{error:r,formItemId:i}=h();return a.jsx(d,{ref:s,className:(0,l.cn)(r&&"text-destructive",e),htmlFor:i,...t})});g.displayName="FormLabel";let j=r.forwardRef(({...e},t)=>{let{error:s,formItemId:r,formDescriptionId:n,formMessageId:l}=h();return a.jsx(i.g7,{ref:t,id:r,"aria-describedby":s?`${n} ${l}`:`${n}`,"aria-invalid":!!s,...e})});j.displayName="FormControl";let y=r.forwardRef(({className:e,...t},s)=>{let{formDescriptionId:r}=h();return a.jsx("p",{ref:s,id:r,className:(0,l.cn)("text-sm text-muted-foreground",e),...t})});y.displayName="FormDescription";let b=r.forwardRef(({className:e,children:t,...s},r)=>{let{error:i,formMessageId:n}=h(),o=i?String(i?.message):t;return o?a.jsx("p",{ref:r,id:n,className:(0,l.cn)("text-sm font-medium text-destructive",e),...s,children:o}):null});b.displayName="FormMessage"},41190:(e,t,s)=>{"use strict";s.d(t,{I:()=>n});var a=s(10326),r=s(17577),i=s(51223);let n=r.forwardRef(({className:e,type:t,...s},r)=>a.jsx("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));n.displayName="Input"},29280:(e,t,s)=>{"use strict";s.d(t,{Bw:()=>x,Ph:()=>d,Ql:()=>f,i4:()=>u,ki:()=>m});var a=s(10326),r=s(17577),i=s(18792),n=s(941),l=s(96633),o=s(32933),c=s(51223);let d=i.fC;i.ZA;let m=i.B4,u=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.xz,{ref:r,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,a.jsx(i.JO,{asChild:!0,children:a.jsx(n.Z,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=i.xz.displayName;let p=r.forwardRef(({className:e,...t},s)=>a.jsx(i.u_,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(l.Z,{className:"h-4 w-4"})}));p.displayName=i.u_.displayName;let h=r.forwardRef(({className:e,...t},s)=>a.jsx(i.$G,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(n.Z,{className:"h-4 w-4"})}));h.displayName=i.$G.displayName;let x=r.forwardRef(({className:e,children:t,position:s="popper",...r},n)=>a.jsx(i.h_,{children:(0,a.jsxs)(i.VY,{ref:n,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[a.jsx(p,{}),a.jsx(i.l_,{className:(0,c.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(h,{})]})}));x.displayName=i.VY.displayName,r.forwardRef(({className:e,...t},s)=>a.jsx(i.__,{ref:s,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=i.__.displayName;let f=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.ck,{ref:r,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(i.wU,{children:a.jsx(o.Z,{className:"h-4 w-4"})})}),a.jsx(i.eT,{children:t})]}));f.displayName=i.ck.displayName,r.forwardRef(({className:e,...t},s)=>a.jsx(i.Z0,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=i.Z0.displayName},99744:(e,t,s)=>{"use strict";s.d(t,{mQ:()=>T,nU:()=>q,dr:()=>z,SP:()=>R});var a=s(10326),r=s(17577),i=s(82561),n=s(93095),l=s(15594),o=s(9815),c=s(45226),d=s(17124),m=s(52067),u=s(88957),p="Tabs",[h,x]=(0,n.b)(p,[l.Pc]),f=(0,l.Pc)(),[g,j]=h(p),y=r.forwardRef((e,t)=>{let{__scopeTabs:s,value:r,onValueChange:i,defaultValue:n,orientation:l="horizontal",dir:o,activationMode:h="automatic",...x}=e,f=(0,d.gm)(o),[j,y]=(0,m.T)({prop:r,onChange:i,defaultProp:n??"",caller:p});return(0,a.jsx)(g,{scope:s,baseId:(0,u.M)(),value:j,onValueChange:y,orientation:l,dir:f,activationMode:h,children:(0,a.jsx)(c.WV.div,{dir:f,"data-orientation":l,...x,ref:t})})});y.displayName=p;var b="TabsList",v=r.forwardRef((e,t)=>{let{__scopeTabs:s,loop:r=!0,...i}=e,n=j(b,s),o=f(s);return(0,a.jsx)(l.fC,{asChild:!0,...o,orientation:n.orientation,dir:n.dir,loop:r,children:(0,a.jsx)(c.WV.div,{role:"tablist","aria-orientation":n.orientation,...i,ref:t})})});v.displayName=b;var w="TabsTrigger",N=r.forwardRef((e,t)=>{let{__scopeTabs:s,value:r,disabled:n=!1,...o}=e,d=j(w,s),m=f(s),u=Z(d.baseId,r),p=$(d.baseId,r),h=r===d.value;return(0,a.jsx)(l.ck,{asChild:!0,...m,focusable:!n,active:h,children:(0,a.jsx)(c.WV.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":p,"data-state":h?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:u,...o,ref:t,onMouseDown:(0,i.M)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(r)}),onKeyDown:(0,i.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(r)}),onFocus:(0,i.M)(e.onFocus,()=>{let e="manual"!==d.activationMode;h||n||!e||d.onValueChange(r)})})})});N.displayName=w;var k="TabsContent",C=r.forwardRef((e,t)=>{let{__scopeTabs:s,value:i,forceMount:n,children:l,...d}=e,m=j(k,s),u=Z(m.baseId,i),p=$(m.baseId,i),h=i===m.value,x=r.useRef(h);return r.useEffect(()=>{let e=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(o.z,{present:n||h,children:({present:s})=>(0,a.jsx)(c.WV.div,{"data-state":h?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":u,hidden:!s,id:p,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:x.current?"0s":void 0},children:s&&l})})});function Z(e,t){return`${e}-trigger-${t}`}function $(e,t){return`${e}-content-${t}`}C.displayName=k;var S=s(51223);let T=y,z=r.forwardRef(({className:e,...t},s)=>a.jsx(v,{ref:s,className:(0,S.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));z.displayName=v.displayName;let R=r.forwardRef(({className:e,...t},s)=>a.jsx(N,{ref:s,className:(0,S.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));R.displayName=N.displayName;let q=r.forwardRef(({className:e,...t},s)=>a.jsx(C,{ref:s,className:(0,S.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));q.displayName=C.displayName},82015:(e,t,s)=>{"use strict";s.d(t,{g:()=>n});var a=s(10326),r=s(17577),i=s(51223);let n=r.forwardRef(({className:e,...t},s)=>a.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));n.displayName="Textarea"},25093:(e,t,s)=>{"use strict";s.d(t,{d:()=>r});var a=s(71922);let r={toggleUserBlock:async e=>{try{return(await a.Z.put(`/admin/users/${e}/block`)).user}catch(e){throw console.error("Error toggling user block status:",e),e}},toggleUserAdmin:async e=>{try{return(await a.Z.put(`/admin/users/${e}/admin`)).user}catch(e){throw console.error("Error toggling user admin status:",e),e}},getAllTemplates:async()=>{try{return await a.Z.get("/admin/templates")}catch(e){console.error("Error fetching all templates:",e);try{return await a.Z.get("/templates")}catch(e){return console.error("Fallback request also failed:",e),[]}}},getTemplateById:async e=>{try{return await a.Z.get(`/admin/templates/${e}`)}catch(t){return console.error(`Error fetching template ${e} as admin:`,t),await a.Z.get(`/templates/${e}`)}},updateTemplate:async(e,t)=>{try{return await a.Z.put(`/admin/templates/${e}`,t)}catch(t){throw console.error(`Error updating template ${e} as admin:`,t),t}},deleteTemplate:async(e,t)=>{try{await a.Z.delete(`/admin/templates/${e}`,{data:{version:t}})}catch(t){throw console.error(`Error deleting template ${e} as admin:`,t),t}},getAllFormResponses:async(e=100,t=1)=>{try{return await a.Z.get(`/admin/responses?limit=${e}&page=${t}`)}catch(e){return console.error("Error fetching all form responses:",e),[]}},getAllUsers:async()=>{try{return await a.Z.get("/admin/users")}catch(e){return console.error("Error fetching all users:",e),[]}},getAllTopics:async()=>{try{return await a.Z.get("/admin/topics")}catch(e){return console.error("Error fetching topics:",e),[]}},createTopic:async(e,t)=>{try{return await a.Z.post("/admin/topics",{name:e,description:t})}catch(e){throw console.error("Error creating topic:",e),e}},updateTopic:async(e,t,s,r)=>{try{return await a.Z.put(`/admin/topics/${e}`,{name:t,description:s,version:r})}catch(t){throw console.error(`Error updating topic ${e}:`,t),t}},deleteTopic:async(e,t)=>{try{await a.Z.delete(`/admin/topics/${e}`,{data:{version:t}})}catch(t){throw console.error(`Error deleting topic ${e}:`,t),t}},searchTemplates:async e=>{try{return await a.Z.get(`/admin/templates/search?query=${encodeURIComponent(e)}`)}catch(t){console.error("Error searching templates as admin:",t);try{return await a.Z.get(`/templates/search?query=${encodeURIComponent(e)}`)}catch(e){return console.error("Fallback search also failed:",e),[]}}},getDashboardStats:async()=>{try{return await a.Z.get("/admin/stats")}catch(e){return console.error("Error fetching admin dashboard stats:",e),{users:0,templates:0,responses:0,likes:0,comments:0,activeUsers:0,topicsCount:0,adminCount:0}}},getSystemActivity:async(e=10)=>{try{let t=e?`/admin/activity?limit=${e}`:"/admin/activity";return await a.Z.get(t)}catch(e){return console.error("Error fetching system activity:",e),[]}}}},23042:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>n,tE:()=>i});var a=s(71922);class r{async getAllTemplates(){return(await a.Z.get("/templates")).data}async getTemplateById(e){return(await a.Z.get(`/templates/${e}`)).data}async createTemplate(e){return(await a.Z.post("/templates",e)).data}async updateTemplate(e,t){return(await a.Z.put(`/templates/${e}`,t)).data}async deleteTemplate(e,t){return(await a.Z.delete(`/templates/${e}`,{data:{version:t}})).data}async searchTemplates(e){return(await a.Z.get(`/templates/search?query=${encodeURIComponent(e)}`)).data}}let i=new r,n=i},82764:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/Users/masumbillahzihadi/PROJECTS/itransition/PROJECTS/ReadyForms/ReadyForms/client/src/app/admin/templates/[id]/edit/page.tsx#default`)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[667,496,790,365,672,686,213,469,983],()=>s(58316));module.exports=a})();