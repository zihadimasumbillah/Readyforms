(()=>{var e={};e.id=862,e.ids=[862],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},4999:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),t(9060),t(9193),t(5866);var r=t(3191),a=t(8716),i=t(7922),n=t.n(i),l=t(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let d=["",{children:["admin",{children:["responses",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9060)),"/Users/masumbillahzihadi/PROJECTS/itransition/PROJECTS/ReadyForms/ReadyForms/client/src/app/admin/responses/[id]/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9193)),"/Users/masumbillahzihadi/PROJECTS/itransition/PROJECTS/ReadyForms/ReadyForms/client/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/masumbillahzihadi/PROJECTS/itransition/PROJECTS/ReadyForms/ReadyForms/client/src/app/admin/responses/[id]/page.tsx"],m="/admin/responses/[id]/page",u={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/responses/[id]/page",pathname:"/admin/responses/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},209:(e,s,t)=>{Promise.resolve().then(t.bind(t,4078))},6333:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7358:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6557).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},4659:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},4078:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var r=t(326),a=t(7577),i=t(5047),n=t(9906),l=t(9752),o=t(1664),d=t(8227),c=t(4659);let m=(0,t(6557).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var u=t(6333),p=t(6283),x=t(9635),h=t(7358),y=t(5093),f=t(3053),g=t(6627),j=t(5296),N=t(6803);function b(){let{id:e}=(0,i.useParams)(),s=(0,i.useRouter)(),t=(0,f.a)(),b=t?.user,w=t?.logout,[v,R]=(0,a.useState)(null),[k,F]=(0,a.useState)(!0),[Z,P]=(0,a.useState)(null),[A,$]=(0,a.useState)(!1),S=(e,s)=>null==s?r.jsx("span",{className:"text-muted-foreground italic",children:"Not answered"}):"boolean"==typeof s?s?(0,r.jsxs)("span",{className:"flex items-center text-green-600",children:[r.jsx(c.Z,{className:"h-4 w-4 mr-1"})," Yes"]}):(0,r.jsxs)("span",{className:"flex items-center text-red-600",children:[r.jsx(m,{className:"h-4 w-4 mr-1"})," No"]}):e.includes("Int")&&"number"==typeof s?r.jsx("span",{className:"font-medium",children:s}):r.jsx("span",{children:String(s)}),T=e=>{if(!Z)return"";let s=e.match(/custom(String|Text|Int|Checkbox)(\d)Answer/);if(!s)return"";let t=s[1].toLowerCase(),r=s[2];return Z[`custom${t}${r}Question`]||""},C=async()=>{try{let t=Array.isArray(e)?e[0]:e;await y.d.deleteFormResponse(t),(0,g.Am)({title:"Success",description:"Response deleted successfully"}),s.push("/admin/responses")}catch(e){console.error("Error deleting response:",e),(0,g.Am)({title:"Error",description:"Failed to delete response",variant:"destructive"})}$(!1)};return b?(0,r.jsxs)(n.c,{user:{name:b.name||"Admin",email:b.email||"admin@example.com",isAdmin:b.isAdmin},onLogout:()=>{w&&(w(),s.push("/auth/login"))},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(o.z,{variant:"outline",size:"sm",onClick:()=>s.back(),children:[r.jsx(u.Z,{className:"h-4 w-4 mr-1"})," Back"]}),r.jsx("h1",{className:"text-2xl font-bold",children:"Response Details"})]}),r.jsx(o.z,{variant:"destructive",size:"sm",onClick:()=>$(!0),children:"Delete Response"})]}),k?(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx(d.O,{className:"h-32 w-full"}),r.jsx(d.O,{className:"h-96 w-full"})]}):v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.Zb,{className:"mb-6",children:[(0,r.jsxs)(l.Ol,{children:[r.jsx(l.ll,{className:"text-xl",children:"Response Summary"}),(0,r.jsxs)(l.SZ,{children:["Submitted on ",v?(0,N.p6)(v.createdAt):""]})]}),(0,r.jsxs)(l.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"p-4 border rounded-lg bg-muted/50",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Template"}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(p.Z,{className:"h-4 w-4 mr-2 text-primary"}),r.jsx("span",{className:"font-medium",children:Z?.title||"Unknown Template"})]})]}),(0,r.jsxs)("div",{className:"p-4 border rounded-lg bg-muted/50",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Submitted By"}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(x.Z,{className:"h-4 w-4 mr-2 text-primary"}),r.jsx("span",{className:"font-medium",children:v.user?.name||"Unknown User"})]})]}),(0,r.jsxs)("div",{className:"p-4 border rounded-lg bg-muted/50",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Submission Date"}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(h.Z,{className:"h-4 w-4 mr-2 text-primary"}),r.jsx("span",{className:"font-medium",children:(0,N.p6)(v.createdAt)})]})]})]}),Z?.isQuiz&&(0,r.jsxs)("div",{className:"p-4 border rounded-lg bg-muted/50 mt-4",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Quiz Score"}),r.jsx("div",{className:"flex items-center",children:(0,r.jsxs)("span",{className:"font-medium text-lg",children:[v.score||0," / ",v.totalPossiblePoints||0,(0,r.jsxs)("span",{className:"text-sm ml-2 text-muted-foreground",children:["(",v.totalPossiblePoints>0?Math.round(v.score/v.totalPossiblePoints*100):0,"%)"]})]})})]})]})]}),(0,r.jsxs)(l.Zb,{children:[(0,r.jsxs)(l.Ol,{children:[r.jsx(l.ll,{className:"text-xl",children:"Response Details"}),r.jsx(l.SZ,{children:"All answers provided by the user"})]}),r.jsx(l.aY,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[Object.keys(v).filter(e=>e.includes("Answer")).map(e=>{let s=T(e);return s?(0,r.jsxs)("div",{className:"p-4 border rounded-lg",children:[r.jsx("div",{className:"text-sm font-medium mb-1",children:s}),r.jsx("div",{className:"mt-2",children:S(e,v[e])})]},e):null}),0===Object.keys(v).filter(e=>e.includes("Answer")&&T(e)).length&&r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No answer data found for this response"})]})})]})]}):(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-3xl font-bold mb-2",children:"Response not found"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"The response you are looking for might have been deleted or does not exist."}),r.jsx(o.z,{onClick:()=>s.push("/admin/responses"),children:"View All Responses"})]}),r.jsx(j.aR,{open:A,onOpenChange:$,children:(0,r.jsxs)(j._T,{children:[(0,r.jsxs)(j.fY,{children:[r.jsx(j.f$,{children:"Are you absolutely sure?"}),r.jsx(j.yT,{children:"This will permanently delete this response from the system. This action cannot be undone."})]}),(0,r.jsxs)(j.xo,{children:[r.jsx(j.le,{children:"Cancel"}),r.jsx(j.OL,{onClick:C,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]}):r.jsx("div",{children:"Authenticating..."})}},5296:(e,s,t)=>{"use strict";t.d(s,{OL:()=>y,_T:()=>m,aR:()=>o,f$:()=>x,fY:()=>u,le:()=>f,xo:()=>p,yT:()=>h});var r=t(326),a=t(7577),i=t(3996),n=t(1223),l=t(1664);let o=i.fC;i.xz;let d=({...e})=>r.jsx(i.h_,{...e});d.displayName=i.h_.displayName;let c=a.forwardRef(({className:e,...s},t)=>r.jsx(i.aV,{className:(0,n.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:t}));c.displayName=i.aV.displayName;let m=a.forwardRef(({className:e,...s},t)=>(0,r.jsxs)(d,{children:[r.jsx(c,{}),r.jsx(i.VY,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s})]}));m.displayName=i.VY.displayName;let u=({className:e,...s})=>r.jsx("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...s});u.displayName="AlertDialogHeader";let p=({className:e,...s})=>r.jsx("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});p.displayName="AlertDialogFooter";let x=a.forwardRef(({className:e,...s},t)=>r.jsx(i.Dx,{ref:t,className:(0,n.cn)("text-lg font-semibold",e),...s}));x.displayName=i.Dx.displayName;let h=a.forwardRef(({className:e,...s},t)=>r.jsx(i.dk,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));h.displayName=i.dk.displayName;let y=a.forwardRef(({className:e,...s},t)=>r.jsx(i.aU,{ref:t,className:(0,n.cn)((0,l.d)(),e),...s}));y.displayName=i.aU.displayName;let f=a.forwardRef(({className:e,...s},t)=>r.jsx(i.$j,{ref:t,className:(0,n.cn)((0,l.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...s}));f.displayName=i.$j.displayName},8227:(e,s,t)=>{"use strict";t.d(s,{O:()=>i});var r=t(326),a=t(1223);function i({className:e,...s}){return r.jsx("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",e),...s})}},5093:(e,s,t)=>{"use strict";t.d(s,{d:()=>a});var r=t(1922);let a={async getUsers(e=1,s=10){try{return(await r.Z.get(`/admin/users?page=${e}&limit=${s}`)).data}catch(e){throw console.error("Failed to fetch users:",e),e}},async getAllUsers(){try{return(await r.Z.get("/admin/users?limit=1000")).data.users}catch(e){throw console.error("Failed to fetch all users:",e),e}},async getUserById(e){try{return(await r.Z.get(`/admin/users/${e}`)).data}catch(s){throw console.error(`Failed to fetch user ${e}:`,s),s}},async toggleUserBlock(e){try{return(await r.Z.put(`/admin/users/${e}/block`)).data}catch(s){throw console.error(`Failed to toggle block for user ${e}:`,s),s}},async toggleUserAdmin(e){try{return(await r.Z.put(`/admin/users/${e}/admin`)).data}catch(s){throw console.error(`Failed to toggle admin for user ${e}:`,s),s}},async getDashboardStats(){try{return(await r.Z.get("/admin/dashboard-stats")).data}catch(e){throw console.error("Failed to fetch dashboard stats:",e),e}},async getSystemActivity(e=10){try{return(await r.Z.get(`/admin/system-activity/${e}`)).data}catch(e){throw console.error("Failed to fetch system activity:",e),e}},async getAllTemplates(e=1,s=10){try{return(await r.Z.get(`/admin/templates?page=${e}&limit=${s}`)).data.templates}catch(e){throw console.error("Failed to fetch templates:",e),e}},async getAllTopics(){try{return(await r.Z.get("/admin/topics")).data}catch(e){throw console.error("Failed to fetch topics:",e),e}},async getTemplateById(e){try{return(await r.Z.get(`/admin/templates/${e}`)).data}catch(s){throw console.error(`Failed to fetch template ${e}:`,s),s}},async getAllResponses(e=1,s=10){try{return(await r.Z.get(`/admin/responses?page=${e}&limit=${s}`)).data.responses}catch(e){throw console.error("Failed to fetch responses:",e),e}},async getFormResponseById(e){try{return(await r.Z.get(`/admin/responses/${e}`)).data}catch(s){throw console.error(`Failed to fetch form response ${e}:`,s),s}},async deleteFormResponse(e){try{await r.Z.delete(`/admin/responses/${e}`)}catch(s){throw console.error(`Failed to delete form response ${e}:`,s),s}},async getFormResponsesByTemplate(e){try{return(await r.Z.get(`/admin/templates/${e}/responses`)).data}catch(s){throw console.error(`Failed to fetch responses for template ${e}:`,s),s}},async getUsersCount(){try{return(await r.Z.get("/admin/users-count")).data.count}catch(e){throw console.error("Failed to fetch users count:",e),e}}}},6803:(e,s,t)=>{"use strict";function r(e,s){if(!e)return"";let t=new Date(e);return isNaN(t.getTime())?"":new Intl.DateTimeFormat("en-US",s||{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}t.d(s,{p6:()=>r})},9060:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`/Users/masumbillahzihadi/PROJECTS/itransition/PROJECTS/ReadyForms/ReadyForms/client/src/app/admin/responses/[id]/page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[555,236,996,281,497],()=>t(4999));module.exports=r})();