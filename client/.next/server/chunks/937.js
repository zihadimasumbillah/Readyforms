"use strict";exports.id=937,exports.ids=[937],exports.modules={4230:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},1137:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},7427:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},617:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},8307:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},5116:(e,t,a)=>{a.d(t,{k:()=>w});var s=a(326),r=a(7577),l=a(9752),i=a(8443),d=a(1664),n=a(7427),c=a(617),o=a(4230),m=a(434);a(1314),a(5791);var p=a(3053);function f({template:e}){let[t,a]=(0,r.useState)(e.likesCount||0),[f,u]=(0,r.useState)(0),[h,x]=(0,r.useState)(!1),g=(0,p.a)();return g?.user,(0,s.jsxs)(l.Zb,{className:"h-full flex flex-col",children:[s.jsx(l.Ol,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[s.jsx(l.ll,{className:"text-lg hover:text-primary transition-colors",children:s.jsx(m.default,{href:`/templates/${e.id}`,className:"hover:underline",children:e.title})}),s.jsx(l.SZ,{className:"line-clamp-2 mt-1",children:e.description||"No description provided"})]}),e.isQuiz&&s.jsx(i.C,{children:"Quiz"})]})}),(0,s.jsxs)(l.aY,{className:"flex-grow",children:[e.imageUrl&&s.jsx("div",{className:"mb-3 rounded-md overflow-hidden",children:s.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-32 object-cover"})}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 my-2",children:[e.topic&&s.jsx(i.C,{variant:"outline",className:"bg-muted/50",children:e.topic.name}),e.tags&&e.tags.map(e=>s.jsx(i.C,{variant:"secondary",className:"bg-primary/10",children:e.name},e.id||e.name))]})]}),(0,s.jsxs)(l.eW,{className:"pt-4 flex items-center justify-between border-t",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 text-sm text-muted-foreground",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(n.Z,{className:`h-4 w-4 mr-1 ${h?"fill-red-500 text-red-500":""}`}),t]}),(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(c.Z,{className:"h-4 w-4 mr-1"}),f]}),s.jsx("div",{children:(e=>{let t=new Date(e);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(t)})(e.createdAt)})]}),s.jsx(d.z,{size:"sm",variant:"ghost",asChild:!0,children:(0,s.jsxs)(m.default,{href:`/templates/${e.id}`,children:["View ",s.jsx(o.Z,{className:"ml-1 h-3 w-3"})]})})]})]})}var u=a(1190),h=a(8227),x=a(8307),g=a(1137),y=a(9280);function w({templates:e=[],topics:t=[],loading:a=!1,requireAuth:l=!1}){let[n,c]=(0,r.useState)(""),[o,m]=(0,r.useState)("all"),[p,w]=(0,r.useState)(e);return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[s.jsx(x.Z,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(u.I,{type:"search",placeholder:"Search templates...",className:"pl-8",value:n,onChange:e=>{c(e.target.value)}})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(g.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)(y.Ph,{value:o,onValueChange:e=>{m(e)},children:[s.jsx(y.i4,{className:"w-[180px]",children:s.jsx(y.ki,{placeholder:"Select topic"})}),(0,s.jsxs)(y.Bw,{children:[s.jsx(y.Ql,{value:"all",children:"All Topics"}),t&&t.map(e=>s.jsx(y.Ql,{value:e.id,children:e.name},e.id))]})]})]})]}),(n||"all"!==o)&&(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[n&&(0,s.jsxs)(i.C,{variant:"secondary",className:"flex items-center gap-1",children:["Search: ",n,(0,s.jsxs)("button",{className:"ml-1 rounded-full hover:bg-muted-foreground/20",onClick:()=>c(""),children:[s.jsx("span",{className:"sr-only",children:"Remove"}),s.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",children:s.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"})})]})]}),"all"!==o&&(0,s.jsxs)(i.C,{variant:"secondary",className:"flex items-center gap-1",children:["Topic: ",t?.find(e=>e.id===o)?.name||"Unknown",(0,s.jsxs)("button",{className:"ml-1 rounded-full hover:bg-muted-foreground/20",onClick:()=>m("all"),children:[s.jsx("span",{className:"sr-only",children:"Remove"}),s.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",children:s.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"})})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a?Array.from({length:6}).map((e,t)=>(0,s.jsxs)("div",{className:"flex flex-col space-y-3",children:[s.jsx(h.O,{className:"h-[200px] w-full rounded-lg"}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h.O,{className:"h-4 w-[250px]"}),s.jsx(h.O,{className:"h-4 w-[200px]"})]}),(0,s.jsxs)("div",{className:"flex justify-between pt-2",children:[s.jsx(h.O,{className:"h-8 w-20"}),s.jsx(h.O,{className:"h-8 w-20"})]})]},`skeleton-${t}`)):p&&p.length>0?p.map(e=>s.jsx(f,{template:e},e.id)):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx("div",{className:"rounded-full bg-muted p-3 mb-4",children:s.jsx(x.Z,{className:"h-6 w-6 text-muted-foreground"})}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No templates found"}),s.jsx("p",{className:"text-muted-foreground max-w-sm mb-4",children:n||"all"!==o?"No templates match your current filters. Try adjusting your search.":"There are no templates available right now. Check back later."}),(n||"all"!==o)&&s.jsx(d.z,{onClick:()=>{c(""),m("all")},variant:"outline",children:"Clear filters"})]})})]})}},8443:(e,t,a)=>{a.d(t,{C:()=>d});var s=a(326);a(7577);var r=a(9360),l=a(1223);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:t,...a}){return s.jsx("div",{className:(0,l.cn)(i({variant:t}),e),...a})}},9752:(e,t,a)=>{a.d(t,{Ol:()=>d,SZ:()=>c,Zb:()=>i,aY:()=>o,eW:()=>m,ll:()=>n});var s=a(326),r=a(7577),l=a(1223);let i=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let d=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...t}));d.displayName="CardHeader";let n=r.forwardRef(({className:e,...t},a)=>s.jsx("h3",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));n.displayName="CardTitle";let c=r.forwardRef(({className:e,...t},a)=>s.jsx("p",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...t}));c.displayName="CardDescription";let o=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,l.cn)("p-6 pt-0",e),...t}));o.displayName="CardContent";let m=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",e),...t}));m.displayName="CardFooter"},1190:(e,t,a)=>{a.d(t,{I:()=>i});var s=a(326),r=a(7577),l=a(1223);let i=r.forwardRef(({className:e,type:t,...a},r)=>s.jsx("input",{type:t,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...a}));i.displayName="Input"},9280:(e,t,a)=>{a.d(t,{Bw:()=>h,Ph:()=>o,Ql:()=>x,i4:()=>p,ki:()=>m});var s=a(326),r=a(7577),l=a(5749),i=a(8393),d=a(6633),n=a(2933),c=a(1223);let o=l.fC;l.ZA;let m=l.B4,p=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(l.xz,{ref:r,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[t,s.jsx(l.JO,{asChild:!0,children:s.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));p.displayName=l.xz.displayName;let f=r.forwardRef(({className:e,...t},a)=>s.jsx(l.u_,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(d.Z,{className:"h-4 w-4"})}));f.displayName=l.u_.displayName;let u=r.forwardRef(({className:e,...t},a)=>s.jsx(l.$G,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(i.Z,{className:"h-4 w-4"})}));u.displayName=l.$G.displayName;let h=r.forwardRef(({className:e,children:t,position:a="popper",...r},i)=>s.jsx(l.h_,{children:(0,s.jsxs)(l.VY,{ref:i,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...r,children:[s.jsx(f,{}),s.jsx(l.l_,{className:(0,c.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(u,{})]})}));h.displayName=l.VY.displayName,r.forwardRef(({className:e,...t},a)=>s.jsx(l.__,{ref:a,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=l.__.displayName;let x=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(l.ck,{ref:r,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(l.wU,{children:s.jsx(n.Z,{className:"h-4 w-4"})})}),s.jsx(l.eT,{children:t})]}));x.displayName=l.ck.displayName,r.forwardRef(({className:e,...t},a)=>s.jsx(l.Z0,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=l.Z0.displayName},8227:(e,t,a)=>{a.d(t,{O:()=>l});var s=a(326),r=a(1223);function l({className:e,...t}){return s.jsx("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",e),...t})}},5791:(e,t,a)=>{a.d(t,{a:()=>r});var s=a(1922);let r={async getCommentsByTemplate(e){try{return(await s.Z.get(`/comments/template/${e}`)).data}catch(t){throw console.error(`Failed to fetch comments for template ${e}:`,t),t}},async createComment(e,t){try{return(await s.Z.post("/comments",{templateId:e,content:t})).data}catch(e){throw console.error("Failed to create comment:",e),e}},async deleteComment(e,t){try{await s.Z.delete(`/comments/${e}`,{data:{version:t}})}catch(t){throw console.error(`Failed to delete comment ${e}:`,t),t}}}},1314:(e,t,a)=>{a.d(t,{h:()=>r});var s=a(1922);let r={async likeTemplate(e){try{return(await s.Z.post(`/likes/template/${e}`)).data}catch(t){throw console.error(`Failed to like template ${e}:`,t),t}},async unlikeTemplate(e){try{return(await s.Z.delete(`/likes/template/${e}`)).data}catch(t){throw console.error(`Failed to unlike template ${e}:`,t),t}},async checkLikeStatus(e){try{return(await s.Z.get(`/likes/check/${e}`)).data}catch(t){throw console.error(`Failed to check like status for template ${e}:`,t),t}},async getLikesCount(e){try{return(await s.Z.get(`/likes/count/${e}`)).data}catch(t){throw console.error(`Failed to get likes count for template ${e}:`,t),t}},async getLikesByTemplate(e){try{return(await s.Z.get(`/likes/template/${e}`)).data}catch(t){throw console.error(`Failed to get likes for template ${e}:`,t),t}}}},3042:(e,t,a)=>{a.d(t,{t:()=>r});var s=a(1922);let r={async getAllTemplates(e=1,t=10){try{return(await s.Z.get(`/templates?page=${e}&limit=${t}`)).data}catch(e){throw console.error("Failed to fetch templates:",e),e}},async getTemplateById(e){try{return(await s.Z.get(`/templates/${e}`)).data}catch(t){throw console.error(`Failed to fetch template ${e}:`,t),t}},async createTemplate(e){try{return(await s.Z.post("/templates",e)).data}catch(e){throw console.error("Failed to create template:",e),e}},async updateTemplate(e,t){try{return(await s.Z.put(`/templates/${e}`,t)).data.template}catch(t){throw console.error(`Failed to update template ${e}:`,t),t}},async deleteTemplate(e,t){try{await s.Z.delete(`/templates/${e}`,{data:{version:t}})}catch(t){throw console.error(`Failed to delete template ${e}:`,t),t}},async searchTemplates(e){try{let t=new URLSearchParams;return e.query&&t.append("query",e.query),e.tag&&t.append("tag",e.tag),e.topicId&&t.append("topicId",e.topicId),e.limit&&t.append("limit",e.limit.toString()),e.page&&t.append("page",e.page.toString()),e.sort&&t.append("sort",e.sort),(await s.Z.get(`/templates/search?${t.toString()}`)).data}catch(e){throw console.error("Failed to search templates:",e),e}}}},8453:(e,t,a)=>{var s=a(1922);class r{async getAllTopics(){return(await s.Z.get("/topics")).data}async getTopicById(e){return(await s.Z.get(`/topics/${e}`)).data}async createTopic(e){return(await s.Z.post("/topics",e)).data}async updateTopic(e,t){return(await s.Z.put(`/topics/${e}`,t)).data}async deleteTopic(e,t){return(await s.Z.delete(`/topics/${e}`,{data:{version:t}})).data}}new r}};