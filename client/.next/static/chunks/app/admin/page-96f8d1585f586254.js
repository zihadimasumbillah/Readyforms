(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{3566:function(e,t,s){Promise.resolve().then(s.bind(s,6603))},8736:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},8997:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},5466:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},7692:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},3417:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},8728:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3578:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]])},2369:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5805:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2489:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4369:function(e,t,s){"use strict";var a=s(2265),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=a.useState,i=a.useEffect,l=a.useLayoutEffect,c=a.useDebugValue;function o(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!r(e,s)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var s=t(),a=n({inst:{value:s,getSnapshot:t}}),r=a[0].inst,d=a[1];return l(function(){r.value=s,r.getSnapshot=t,o(r)&&d({inst:r})},[e,s,t]),i(function(){return o(r)&&d({inst:r}),e(function(){o(r)&&d({inst:r})})},[e]),c(s),s};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:d},2558:function(e,t,s){"use strict";e.exports=s(4369)},6603:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var a=s(7437),r=s(2265),n=s(2573),i=s(9136),l=s(9820),c=s(2381),o=s(9435),d=s(9140),m=s(7648),u=s(9376),h=s(4881),x=s(5805),f=s(8736),v=s(3417),p=s(8997),g=s(9763);let j=(0,g.Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);var y=s(3578);let N=(0,g.Z)("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),w=(0,g.Z)("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);var b=s(407),k=s(8752);function S(){let[e,t]=(0,r.useState)({stats:{users:0,templates:0,responses:0,likes:0,comments:0,activeUsers:0,topicsCount:0,adminCount:0},activitySummaries:{users:{count:0,change:0},templates:{count:0,change:0},responses:{count:0,change:0}},recentActivity:[],loading:!0,error:null}),s=(0,u.useRouter)(),g=(0,h.a)(),S=null==g?void 0:g.user,Z=null==g?void 0:g.logout;(0,r.useEffect)(()=>{let e=async()=>{try{if(t(e=>({...e,loading:!0,error:null})),!(null==S?void 0:S.isAdmin)){(0,k.Am)({title:"Access denied",description:"You don't have permission to access the admin dashboard",variant:"destructive"}),s.push("/dashboard");return}let e=await o.d.getDashboardStats(),a=await o.d.getSystemActivity(5),r={users:{count:e.activeUsers,change:Math.floor(20*Math.random())-5},templates:{count:e.templates,change:Math.floor(20*Math.random())-5},responses:{count:e.responses,change:Math.floor(30*Math.random())}};t({stats:e,activitySummaries:r,recentActivity:a,loading:!1,error:null})}catch(e){console.error("Error fetching admin dashboard data:",e),(0,k.Am)({title:"Error loading admin data",description:"Failed to load the admin dashboard data. Please try again.",variant:"destructive"}),t(e=>({...e,loading:!1,error:"Failed to load dashboard data. Please try again."}))}};S?e():s.push("/auth/login")},[S,s]);let A=e=>{let t=new Date,s=new Date(e),a=Math.floor((t.getTime()-s.getTime())/6e4);if(a<1)return"just now";if(a<60)return"".concat(a," min ago");let r=Math.floor(a/60);if(r<24)return"".concat(r," hr ago");let n=Math.floor(r/24);return 1===n?"".concat(n," day ago"):"".concat(n," days ago")},M=e=>{switch(e){case"user":return(0,a.jsx)(x.Z,{className:"h-4 w-4"});case"template":default:return(0,a.jsx)(f.Z,{className:"h-4 w-4"});case"response":return(0,a.jsx)(v.Z,{className:"h-4 w-4"});case"like":return(0,a.jsx)(p.Z,{className:"h-4 w-4"})}};return S?(0,a.jsxs)(n.c,{user:{name:S.name||"Admin User",email:S.email||"admin@example.com",isAdmin:!0},onLogout:()=>{Z&&(Z(),s.push("/auth/login"))},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),(0,a.jsxs)("div",{className:"space-x-2",children:[(0,a.jsx)(c.z,{variant:"outline",className:"gap-2",asChild:!0,children:(0,a.jsxs)(m.default,{href:"/api-status",children:[(0,a.jsx)(j,{className:"h-4 w-4"}),"API Status"]})}),(0,a.jsx)(c.z,{variant:"outline",className:"gap-2",asChild:!0,children:(0,a.jsxs)(m.default,{href:"/admin/system",children:[(0,a.jsx)(y.Z,{className:"h-4 w-4"}),"System Status"]})})]})]}),e.error&&(0,a.jsxs)("div",{className:"mb-6 p-4 border border-red-200 bg-red-50 dark:bg-red-900/20 dark:border-red-800 text-red-800 dark:text-red-200 rounded-md",children:[(0,a.jsx)("p",{children:e.error}),(0,a.jsx)(c.z,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>window.location.reload(),children:"Retry"})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4 mb-8",children:[(0,a.jsx)(i.R,{title:"Total Users",value:e.stats.users,icon:(0,a.jsx)(x.Z,{className:"h-4 w-4"}),loading:e.loading,trend:0!==e.activitySummaries.users.change?{value:e.activitySummaries.users.change,isPositive:e.activitySummaries.users.change>0}:void 0,description:"Active users this month"}),(0,a.jsx)(i.R,{title:"Total Templates",value:e.stats.templates,icon:(0,a.jsx)(f.Z,{className:"h-4 w-4"}),loading:e.loading,trend:0!==e.activitySummaries.templates.change?{value:e.activitySummaries.templates.change,isPositive:e.activitySummaries.templates.change>0}:void 0,description:"Created this month"}),(0,a.jsx)(i.R,{title:"Form Responses",value:e.stats.responses,icon:(0,a.jsx)(v.Z,{className:"h-4 w-4"}),loading:e.loading,trend:0!==e.activitySummaries.responses.change?{value:e.activitySummaries.responses.change,isPositive:e.activitySummaries.responses.change>0}:void 0,description:"Submitted this month"}),(0,a.jsx)(i.R,{title:"Social Engagement",value:e.stats.likes+e.stats.comments,icon:(0,a.jsx)(p.Z,{className:"h-4 w-4"}),loading:e.loading,description:"".concat(e.stats.likes," likes, ").concat(e.stats.comments," comments")})]}),(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 mb-8",children:[(0,a.jsxs)(l.Zb,{className:"col-span-2",children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(l.ll,{children:"Activity Overview"}),(0,a.jsx)(l.SZ,{children:"Latest activity across the platform"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(c.z,{variant:"outline",size:"icon",children:[(0,a.jsx)(N,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Previous period"})]}),(0,a.jsxs)(c.z,{variant:"outline",size:"icon",children:[(0,a.jsx)(w,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Next period"})]})]})]}),(0,a.jsx)(l.aY,{children:e.loading?(0,a.jsx)(d.O,{className:"h-[250px] w-full rounded"}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"col-span-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"New Users"}),(0,a.jsx)("div",{className:"text-2xl font-bold",children:e.activitySummaries.users.count}),(0,a.jsxs)("div",{className:"flex items-center text-xs mt-0.5",children:[e.activitySummaries.users.change>0?(0,a.jsxs)("span",{className:"text-green-500 flex items-center",children:[(0,a.jsx)("svg",{className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),"+",e.activitySummaries.users.change,"%"]}):(0,a.jsxs)("span",{className:"text-red-500 flex items-center",children:[(0,a.jsx)("svg",{className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),e.activitySummaries.users.change,"%"]}),(0,a.jsx)("span",{className:"text-muted-foreground ml-1",children:"vs last month"})]})]}),(0,a.jsxs)("div",{className:"col-span-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"New Templates"}),(0,a.jsx)("div",{className:"text-2xl font-bold",children:e.activitySummaries.templates.count}),(0,a.jsxs)("div",{className:"flex items-center text-xs mt-0.5",children:[e.activitySummaries.templates.change>0?(0,a.jsxs)("span",{className:"text-green-500 flex items-center",children:[(0,a.jsx)("svg",{className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),"+",e.activitySummaries.templates.change,"%"]}):(0,a.jsxs)("span",{className:"text-red-500 flex items-center",children:[(0,a.jsx)("svg",{className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),e.activitySummaries.templates.change,"%"]}),(0,a.jsx)("span",{className:"text-muted-foreground ml-1",children:"vs last month"})]})]}),(0,a.jsxs)("div",{className:"col-span-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Form Responses"}),(0,a.jsx)("div",{className:"text-2xl font-bold",children:e.activitySummaries.responses.count}),(0,a.jsxs)("div",{className:"flex items-center text-xs mt-0.5",children:[e.activitySummaries.responses.change>0?(0,a.jsxs)("span",{className:"text-green-500 flex items-center",children:[(0,a.jsx)("svg",{className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),"+",e.activitySummaries.responses.change,"%"]}):(0,a.jsxs)("span",{className:"text-red-500 flex items-center",children:[(0,a.jsx)("svg",{className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),e.activitySummaries.responses.change,"%"]}),(0,a.jsx)("span",{className:"text-muted-foreground ml-1",children:"vs last month"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"relative mt-4",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("span",{className:"w-full border-t border-muted-foreground/20"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,a.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:"Recent Activity"})})]}),(0,a.jsx)("div",{className:"space-y-4 mt-6",children:e.recentActivity.length>0?e.recentActivity.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"rounded-full p-2 mr-3 ".concat("user"===e.type?"bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300":"template"===e.type?"bg-purple-100 text-purple-600 dark:bg-purple-900 dark:text-purple-300":"bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-300"),children:M(e.type)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("p",{className:"text-sm font-medium",children:[e.user," ",e.action," a ",e.type,e.title&&(0,a.jsxs)("span",{className:"font-normal",children:[" - ",e.title]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:A(e.timestamp)})]})]},t)):(0,a.jsx)("div",{className:"text-center py-4 text-muted-foreground",children:"No recent activity to display"})})]}),(0,a.jsx)(c.z,{variant:"outline",size:"sm",className:"w-full text-sm",asChild:!0,children:(0,a.jsxs)(m.default,{href:"/admin/activity",children:["View All Activity",(0,a.jsx)(b.Z,{className:"ml-1 h-4 w-4"})]})})]})})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsx)(l.ll,{children:"Quick Overview"}),(0,a.jsx)(l.SZ,{children:"System metrics at a glance"})]}),(0,a.jsx)(l.aY,{children:e.loading?(0,a.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(d.O,{className:"h-12 w-full"},t))}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"Active Topics"}),(0,a.jsx)("div",{className:"text-sm font-bold",children:e.stats.topicsCount})]}),(0,a.jsx)("div",{className:"h-2 w-full bg-muted overflow-hidden rounded-full",children:(0,a.jsx)("div",{className:"h-full bg-primary rounded-full",style:{width:"".concat(Math.min(100,5*e.stats.topicsCount),"%")}})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"Admins"}),(0,a.jsx)("div",{className:"text-sm font-bold",children:e.stats.adminCount})]}),(0,a.jsx)("div",{className:"h-2 w-full bg-muted overflow-hidden rounded-full",children:(0,a.jsx)("div",{className:"h-full bg-amber-500 rounded-full",style:{width:"".concat(Math.min(100,20*e.stats.adminCount),"%")}})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"Active Users"}),(0,a.jsxs)("div",{className:"text-sm font-bold",children:[e.stats.activeUsers," / ",e.stats.users]})]}),(0,a.jsx)("div",{className:"h-2 w-full bg-muted overflow-hidden rounded-full",children:(0,a.jsx)("div",{className:"h-full bg-green-500 rounded-full",style:{width:"".concat(e.stats.users?Math.min(100,e.stats.activeUsers/e.stats.users*100):0,"%")}})})]}),(0,a.jsxs)("div",{className:"pt-4 flex flex-col space-y-3",children:[(0,a.jsx)(c.z,{size:"sm",variant:"outline",asChild:!0,children:(0,a.jsx)(m.default,{href:"/admin/users",children:"Manage Users"})}),(0,a.jsx)(c.z,{size:"sm",variant:"outline",asChild:!0,children:(0,a.jsx)(m.default,{href:"/admin/topics",children:"Manage Topics"})})]})]})})]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsx)(l.ll,{children:"Quick Access"}),(0,a.jsx)(l.SZ,{children:"Admin management tools"})]}),(0,a.jsxs)(l.aY,{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsx)(c.z,{className:"h-auto flex-col p-6",variant:"outline",asChild:!0,children:(0,a.jsxs)(m.default,{href:"/admin/users",children:[(0,a.jsx)(x.Z,{className:"h-8 w-8 mb-2"}),(0,a.jsx)("span",{className:"font-medium",children:"User Management"})]})}),(0,a.jsx)(c.z,{className:"h-auto flex-col p-6",variant:"outline",asChild:!0,children:(0,a.jsxs)(m.default,{href:"/admin/templates",children:[(0,a.jsx)(f.Z,{className:"h-8 w-8 mb-2"}),(0,a.jsx)("span",{className:"font-medium",children:"All Templates"})]})}),(0,a.jsx)(c.z,{className:"h-auto flex-col p-6",variant:"outline",asChild:!0,children:(0,a.jsxs)(m.default,{href:"/admin/responses",children:[(0,a.jsx)(v.Z,{className:"h-8 w-8 mb-2"}),(0,a.jsx)("span",{className:"font-medium",children:"All Responses"})]})}),(0,a.jsx)(c.z,{className:"h-auto flex-col p-6",variant:"outline",asChild:!0,children:(0,a.jsxs)(m.default,{href:"/admin/settings",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-8 w-8 mb-2",children:[(0,a.jsx)("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.09a2 2 0 0 1-1-1.74v-.51a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),(0,a.jsx)("circle",{cx:"12",cy:"12",r:"3"})]}),(0,a.jsx)("span",{className:"font-medium",children:"System Settings"})]})})]})]})]}):(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Loading admin dashboard"}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})]})})}},9136:function(e,t,s){"use strict";s.d(t,{R:function(){return l}});var a=s(7437),r=s(9820),n=s(3448),i=s(9140);function l(e){let{title:t,value:s,icon:l,description:c,loading:o=!1,trend:d,className:m}=e;return(0,a.jsxs)(r.Zb,{className:(0,n.cn)("overflow-hidden",m),children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ll,{className:"text-sm font-medium",children:o?(0,a.jsx)(i.O,{className:"h-4 w-24"}):t}),o?(0,a.jsx)(i.O,{className:"h-8 w-8 rounded-full"}):(0,a.jsx)("div",{className:"h-8 w-8 rounded-full bg-muted flex items-center justify-center",children:l})]}),(0,a.jsx)(r.aY,{children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.O,{className:"h-7 w-20 mb-1"}),c&&(0,a.jsx)(i.O,{className:"h-4 w-32"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:s}),(c||d)&&(0,a.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground mt-1",children:[d&&(0,a.jsxs)("span",{className:(0,n.cn)("mr-1 font-medium",d.isPositive?"text-green-600":"text-red-600"),children:[d.isPositive?"+":"",d.value,"%"]}),c&&(0,a.jsx)("span",{children:c})]})]})})]})}},9140:function(e,t,s){"use strict";s.d(t,{O:function(){return n}});var a=s(7437),r=s(3448);function n(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",t),...s})}},9435:function(e,t,s){"use strict";s.d(t,{d:function(){return r}});var a=s(9642);let r={async getUsers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{return(await a.Z.get("/admin/users?page=".concat(e,"&limit=").concat(t))).data}catch(e){throw console.error("Failed to fetch users:",e),e}},async getAllUsers(){try{return(await a.Z.get("/admin/users?limit=1000")).data.users}catch(e){throw console.error("Failed to fetch all users:",e),e}},async getUserById(e){try{return(await a.Z.get("/admin/users/".concat(e))).data}catch(t){throw console.error("Failed to fetch user ".concat(e,":"),t),t}},async toggleUserBlock(e){try{return(await a.Z.put("/admin/users/".concat(e,"/block"))).data}catch(t){throw console.error("Failed to toggle block for user ".concat(e,":"),t),t}},async toggleUserAdmin(e){try{return(await a.Z.put("/admin/users/".concat(e,"/admin"))).data}catch(t){throw console.error("Failed to toggle admin for user ".concat(e,":"),t),t}},async getDashboardStats(){try{return(await a.Z.get("/admin/dashboard-stats")).data}catch(e){throw console.error("Failed to fetch dashboard stats:",e),e}},async getSystemActivity(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;try{return(await a.Z.get("/admin/system-activity/".concat(e))).data}catch(e){throw console.error("Failed to fetch system activity:",e),e}},async getAllTemplates(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{return(await a.Z.get("/admin/templates?page=".concat(e,"&limit=").concat(t))).data.templates}catch(e){throw console.error("Failed to fetch templates:",e),e}},async getAllTopics(){try{return(await a.Z.get("/admin/topics")).data}catch(e){throw console.error("Failed to fetch topics:",e),e}},async getTemplateById(e){try{return(await a.Z.get("/admin/templates/".concat(e))).data}catch(t){throw console.error("Failed to fetch template ".concat(e,":"),t),t}},async getAllResponses(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{return(await a.Z.get("/admin/responses?page=".concat(e,"&limit=").concat(t))).data.responses}catch(e){throw console.error("Failed to fetch responses:",e),e}},async getFormResponseById(e){try{return(await a.Z.get("/admin/responses/".concat(e))).data}catch(t){throw console.error("Failed to fetch form response ".concat(e,":"),t),t}},async deleteFormResponse(e){try{await a.Z.delete("/admin/responses/".concat(e))}catch(t){throw console.error("Failed to delete form response ".concat(e,":"),t),t}},async getFormResponsesByTemplate(e){try{return(await a.Z.get("/admin/templates/".concat(e,"/responses"))).data}catch(t){throw console.error("Failed to fetch responses for template ".concat(e,":"),t),t}},async getUsersCount(){try{return(await a.Z.get("/admin/users-count")).data.count}catch(e){throw console.error("Failed to fetch users count:",e),e}}}},1146:function(e,t,s){"use strict";s.d(t,{NY:function(){return k},Ee:function(){return b},fC:function(){return w}});var a=s(2265),r=s(3966),n=s(6606),i=s(1188),l=s(6840),c=s(2558);function o(){return()=>{}}var d=s(7437),m="Avatar",[u,h]=(0,r.b)(m),[x,f]=u(m),v=a.forwardRef((e,t)=>{let{__scopeAvatar:s,...r}=e,[n,i]=a.useState("idle");return(0,d.jsx)(x,{scope:s,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:(0,d.jsx)(l.WV.span,{...r,ref:t})})});v.displayName=m;var p="AvatarImage",g=a.forwardRef((e,t)=>{let{__scopeAvatar:s,src:r,onLoadingStatusChange:m=()=>{},...u}=e,h=f(p,s),x=function(e,t){let{referrerPolicy:s,crossOrigin:r}=t,n=(0,c.useSyncExternalStore)(o,()=>!0,()=>!1),l=a.useRef(null),d=n?(l.current||(l.current=new window.Image),l.current):null,[m,u]=a.useState(()=>N(d,e));return(0,i.b)(()=>{u(N(d,e))},[d,e]),(0,i.b)(()=>{let e=e=>()=>{u(e)};if(!d)return;let t=e("loaded"),a=e("error");return d.addEventListener("load",t),d.addEventListener("error",a),s&&(d.referrerPolicy=s),"string"==typeof r&&(d.crossOrigin=r),()=>{d.removeEventListener("load",t),d.removeEventListener("error",a)}},[d,r,s]),m}(r,u),v=(0,n.W)(e=>{m(e),h.onImageLoadingStatusChange(e)});return(0,i.b)(()=>{"idle"!==x&&v(x)},[x,v]),"loaded"===x?(0,d.jsx)(l.WV.img,{...u,ref:t,src:r}):null});g.displayName=p;var j="AvatarFallback",y=a.forwardRef((e,t)=>{let{__scopeAvatar:s,delayMs:r,...n}=e,i=f(j,s),[c,o]=a.useState(void 0===r);return a.useEffect(()=>{if(void 0!==r){let e=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(e)}},[r]),c&&"loaded"!==i.imageLoadingStatus?(0,d.jsx)(l.WV.span,{...n,ref:t}):null});function N(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}y.displayName=j;var w=v,b=g,k=y}},function(e){e.O(0,[284,464,972,513,832,331,128,713,582,971,117,744],function(){return e(e.s=3566)}),_N_E=e.O()}]);