(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7702],{9426:function(e,s,t){Promise.resolve().then(t.bind(t,8166))},6858:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},1047:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},8997:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},3417:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},285:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},8166:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return b}});var a=t(7437),l=t(2265),r=t(1945),i=t(9136),n=t(9820),c=t(2381),d=t(7802),o=t(9140),m=t(7648),h=t(4881),u=t(285),x=t(8736),j=t(3417),f=t(8997),p=t(6858),y=t(1047);let v=(0,t(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var N=t(3578),w=t(9376),g=t(8752);function b(){let[e,s]=(0,l.useState)(!0),[t,b]=(0,l.useState)({templates:0,responses:0,likes:0,comments:0}),[Z,k]=(0,l.useState)([]),C=(0,h.a)(),z=null==C?void 0:C.user,A=null==C?void 0:C.logout,R=(0,w.useRouter)();if((0,l.useEffect)(()=>{let e=async()=>{try{s(!0);let e=await d.P.getUserStats();b(e);let t=(await d.P.getUserTemplates()).filter(e=>{var s,t;let a=(null==e?void 0:null===(s=e.title)||void 0===s?void 0:s.toLowerCase())||"",l=(null==e?void 0:null===(t=e.description)||void 0===t?void 0:t.toLowerCase())||"";return!(a.includes("test template")||a.includes("updated template")||l.includes("created by api")||l.includes("admin-template-test"))});k(t.slice(0,5))}catch(e){console.error("Error fetching dashboard data:",e),(0,g.Am)({title:"Error loading dashboard",description:"Failed to load your dashboard data. Please try again.",variant:"destructive"})}finally{s(!1)}};z?e():R.push("/auth/login")},[z,R]),!z)return(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Loading your dashboard"}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})]})});let O=e=>{let s=new Date(e);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(s)};return(0,a.jsxs)(r.c,{user:{name:z.name||"User",email:z.email||"user@example.com",isAdmin:z.isAdmin||!1},onLogout:()=>{A&&(A(),R.push("/auth/login"))},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold",children:["Welcome, ",z.name,"!"]}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:"Manage your forms and view responses all in one place."})]}),(0,a.jsxs)(c.z,{onClick:()=>R.push("/templates/create"),children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Create Template"]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4 mb-8",children:[(0,a.jsx)(i.R,{title:"Total Templates",value:t.templates,icon:(0,a.jsx)(x.Z,{className:"h-4 w-4"}),loading:e}),(0,a.jsx)(i.R,{title:"Form Responses",value:t.responses,icon:(0,a.jsx)(j.Z,{className:"h-4 w-4"}),loading:e}),(0,a.jsx)(i.R,{title:"Likes Received",value:t.likes,icon:(0,a.jsx)(f.Z,{className:"h-4 w-4"}),loading:e}),(0,a.jsx)(i.R,{title:"Comments",value:t.comments,icon:(0,a.jsx)(j.Z,{className:"h-4 w-4"}),loading:e})]}),(0,a.jsxs)(n.Zb,{className:"mb-8",children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.ll,{className:"text-xl",children:"Recent Templates"}),(0,a.jsx)(n.SZ,{children:"Your recently created form templates"})]}),Z.length>0&&(0,a.jsx)(c.z,{variant:"outline",size:"sm",asChild:!0,children:(0,a.jsxs)(m.default,{href:"/dashboard/templates",children:["View All ",(0,a.jsx)(p.Z,{className:"ml-1 h-4 w-4"})]})})]}),(0,a.jsx)(n.aY,{children:e?(0,a.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0].map((e,s)=>(0,a.jsx)(o.O,{className:"h-14 w-full"},s))}):Z.length>0?(0,a.jsx)("div",{className:"divide-y",children:Z.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-4 first:pt-0 last:pb-0",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h3",{className:"font-medium hover:text-primary",children:(0,a.jsx)(m.default,{href:"/templates/".concat(e.id),className:"hover:underline",children:e.title})}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(y.Z,{className:"h-3.5 w-3.5 mr-1"}),O(e.createdAt)]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(j.Z,{className:"h-3.5 w-3.5 mr-1"}),e.responsesCount||0," responses"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.z,{size:"sm",variant:"secondary",asChild:!0,children:(0,a.jsx)(m.default,{href:"/templates/".concat(e.id),children:"View"})}),(0,a.jsx)(c.z,{size:"sm",variant:"outline",asChild:!0,children:(0,a.jsx)(m.default,{href:"/templates/".concat(e.id,"/edit"),children:"Edit"})})]})]},e.id))}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[(0,a.jsx)(x.Z,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium",children:"No templates yet"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Create your first form template to get started"}),(0,a.jsx)(c.z,{asChild:!0,children:(0,a.jsxs)(m.default,{href:"/templates/create",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Create Template"]})})]})})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[(0,a.jsx)(n.ll,{className:"text-xl",children:"Recent Activity"}),(0,a.jsx)(n.SZ,{children:"Latest responses and interactions"})]}),(0,a.jsx)(n.aY,{children:e?(0,a.jsx)("div",{className:"space-y-3",children:[,,,].fill(0).map((e,s)=>(0,a.jsx)(o.O,{className:"h-14 w-full"},s))}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 p-3 rounded-md border",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:(0,a.jsx)(v,{className:"h-5 w-5 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Activity feed coming soon"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"We're working on showing your recent activity here"})]})]}),(0,a.jsx)(c.z,{variant:"outline",className:"w-full",asChild:!0,children:(0,a.jsx)(m.default,{href:"/dashboard/activity",children:"View All Activity"})})]})})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[(0,a.jsx)(n.ll,{className:"text-xl",children:"Quick Actions"}),(0,a.jsx)(n.SZ,{children:"Common tasks and actions"})]}),(0,a.jsxs)(n.aY,{className:"grid gap-4",children:[(0,a.jsx)(c.z,{className:"justify-start",variant:"outline",asChild:!0,children:(0,a.jsxs)(m.default,{href:"/templates/create",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{children:"Create New Template"})]})}),(0,a.jsx)(c.z,{className:"justify-start",variant:"outline",asChild:!0,children:(0,a.jsxs)(m.default,{href:"/dashboard/responses",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{children:"View Form Responses"})]})}),(0,a.jsx)(c.z,{className:"justify-start",variant:"outline",asChild:!0,children:(0,a.jsxs)(m.default,{href:"/templates",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{children:"Browse Template Library"})]})}),z.isAdmin&&(0,a.jsx)(c.z,{className:"justify-start",variant:"outline",asChild:!0,children:(0,a.jsxs)(m.default,{href:"/admin",children:[(0,a.jsx)(N.Z,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{children:"Admin Dashboard"})]})})]})]})]})]})}},9136:function(e,s,t){"use strict";t.d(s,{R:function(){return n}});var a=t(7437),l=t(9820),r=t(3448),i=t(9140);function n(e){let{title:s,value:t,icon:n,description:c,loading:d=!1,trend:o,className:m}=e;return(0,a.jsxs)(l.Zb,{className:(0,r.cn)("overflow-hidden",m),children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ll,{className:"text-sm font-medium",children:d?(0,a.jsx)(i.O,{className:"h-4 w-24"}):s}),d?(0,a.jsx)(i.O,{className:"h-8 w-8 rounded-full"}):(0,a.jsx)("div",{className:"h-8 w-8 rounded-full bg-muted flex items-center justify-center",children:n})]}),(0,a.jsx)(l.aY,{children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.O,{className:"h-7 w-20 mb-1"}),c&&(0,a.jsx)(i.O,{className:"h-4 w-32"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:t}),(c||o)&&(0,a.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground mt-1",children:[o&&(0,a.jsxs)("span",{className:(0,r.cn)("mr-1 font-medium",o.isPositive?"text-green-600":"text-red-600"),children:[o.isPositive?"+":"",o.value,"%"]}),c&&(0,a.jsx)("span",{children:c})]})]})})]})}},9140:function(e,s,t){"use strict";t.d(s,{O:function(){return r}});var a=t(7437),l=t(3448);function r(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-muted",s),...t})}},7802:function(e,s,t){"use strict";t.d(s,{P:function(){return l}});var a=t(5493);let l={async getUserStats(){try{return(await a.Z.get("/dashboard/stats")).data}catch(e){throw console.error("Failed to fetch user stats:",e),e}},async getRecentActivity(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;try{return(await a.Z.get("/dashboard/recent?limit=".concat(e))).data}catch(e){throw console.error("Failed to fetch recent activity:",e),e}},async getUserTemplates(){try{return(await a.Z.get("/dashboard/templates")).data}catch(e){throw console.error("Failed to fetch user templates:",e),e}},async getUserResponses(){try{return(await a.Z.get("/dashboard/responses")).data}catch(e){throw console.error("Failed to fetch user responses:",e),e}},async deleteTemplate(e,s){try{await a.Z.delete("/templates/".concat(e),{data:{version:s}})}catch(s){throw console.error("Failed to delete template ".concat(e,":"),s),s}}}}},function(e){e.O(0,[6284,3464,2972,6052,3534,9128,1713,8439,8032,7961,2971,2117,1744],function(){return e(e.s=9426)}),_N_E=e.O()}]);