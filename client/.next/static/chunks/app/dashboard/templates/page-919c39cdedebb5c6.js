(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[123],{6937:function(e,t,r){Promise.resolve().then(r.bind(r,6110))},2208:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},8736:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},5466:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},7692:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},4630:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},285:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},8728:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3578:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]])},8930:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2369:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2489:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4369:function(e,t,r){"use strict";var a=r(2265),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=a.useState,l=a.useEffect,i=a.useLayoutEffect,c=a.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var o="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=s({inst:{value:r,getSnapshot:t}}),n=a[0].inst,o=a[1];return i(function(){n.value=r,n.getSnapshot=t,d(n)&&o({inst:n})},[e,r,t]),l(function(){return d(n)&&o({inst:n}),e(function(){d(n)&&o({inst:n})})},[e]),c(r),r};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:o},2558:function(e,t,r){"use strict";e.exports=r(4369)},6110:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Z}});var a=r(7437),n=r(2265),s=r(2573),l=r(9820),i=r(2381),c=r(279),d=r(3804),o=r(7802),u=r(9140),f=r(7648),m=r(285),h=r(3247),x=r(2208),p=r(4630);let y=(0,r(9763).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var j=r(8930),v=r(2060),g=r(9376),w=r(767),b=r(9174),N=r(4881),k=r(8752);function Z(){let[e,t]=(0,n.useState)(!0),[r,Z]=(0,n.useState)([]),[S,C]=(0,n.useState)([]),[T,R]=(0,n.useState)(""),[E,L]=(0,n.useState)(null),A=(0,g.useRouter)(),M=(0,N.a)(),V=null==M?void 0:M.user,z=null==M?void 0:M.logout;(0,n.useEffect)(()=>{let e=async()=>{try{t(!0);let e=await o.P.getUserTemplates();Z(e),C(e)}catch(e){console.error("Error fetching templates:",e),Z([]),C([]),(0,k.Am)({title:"Error",description:"Failed to fetch templates. Please try again later.",variant:"destructive"})}finally{t(!1)}};V?e():A.push("/auth/login")},[V,A]),(0,n.useEffect)(()=>{""===T.trim()?C(r):C(r.filter(e=>{var t,r;return((null==e?void 0:null===(t=e.title)||void 0===t?void 0:t.toLowerCase())||"").includes(T.toLowerCase())||((null==e?void 0:null===(r=e.description)||void 0===r?void 0:r.toLowerCase())||"").includes(T.toLowerCase())}))},[T,r]);let D=async()=>{if(E)try{await o.P.deleteTemplate(E.id,E.version),Z(r.filter(e=>e.id!==E.id)),C(S.filter(e=>e.id!==E.id)),(0,k.Am)({title:"Success",description:"Template deleted successfully"}),L(null)}catch(e){console.error("Error deleting template:",e),(0,k.Am)({title:"Error",description:"Failed to delete template. Please try again.",variant:"destructive"})}};return V?(0,a.jsxs)(s.c,{user:{name:V.name||"User",email:V.email||"user@example.com",isAdmin:V.isAdmin},onLogout:()=>{z&&(z(),A.push("/auth/login"))},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"My Templates"}),(0,a.jsxs)(i.z,{onClick:()=>A.push("/templates/create"),children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Create Template"]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(l.ll,{children:"All Templates"}),(0,a.jsxs)("div",{className:"relative w-full max-w-sm",children:[(0,a.jsx)(h.Z,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(c.I,{type:"search",placeholder:"Search templates...",className:"w-full pl-8",value:T,onChange:e=>{R(e.target.value)}})]})]})}),(0,a.jsx)(l.aY,{children:e?(0,a.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(u.O,{className:"h-12 w-full"},t))}):S.length>0?(0,a.jsxs)(d.iA,{children:[(0,a.jsx)(d.xD,{children:(0,a.jsxs)(d.SC,{children:[(0,a.jsx)(d.ss,{children:"Title"}),(0,a.jsx)(d.ss,{className:"hidden md:table-cell",children:"Created"}),(0,a.jsx)(d.ss,{className:"hidden lg:table-cell",children:"Topic"}),(0,a.jsx)(d.ss,{className:"hidden md:table-cell",children:"Status"}),(0,a.jsx)(d.ss,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(d.RM,{children:S.map(e=>{var t;return(0,a.jsxs)(d.SC,{children:[(0,a.jsx)(d.pj,{className:"font-medium",children:e.title}),(0,a.jsx)(d.pj,{className:"hidden md:table-cell",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsx)(d.pj,{className:"hidden lg:table-cell",children:(null===(t=e.topic)||void 0===t?void 0:t.name)||"Unknown"}),(0,a.jsx)(d.pj,{className:"hidden md:table-cell",children:(0,a.jsx)(b.C,{variant:e.isPublic?"default":"outline",children:e.isPublic?"Public":"Private"})}),(0,a.jsx)(d.pj,{className:"text-right",children:(0,a.jsxs)(v.h_,{children:[(0,a.jsx)(v.$F,{asChild:!0,children:(0,a.jsxs)(i.z,{variant:"ghost",size:"sm",children:[(0,a.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,a.jsx)("circle",{cx:"19",cy:"12",r:"1"}),(0,a.jsx)("circle",{cx:"5",cy:"12",r:"1"})]})]})}),(0,a.jsxs)(v.AW,{align:"end",children:[(0,a.jsx)(v.Ju,{children:"Actions"}),(0,a.jsxs)(v.Xi,{onClick:()=>A.push("/templates/".concat(e.id)),children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"View"]}),(0,a.jsxs)(v.Xi,{onClick:()=>A.push("/templates/".concat(e.id,"/edit")),children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,a.jsxs)(v.Xi,{onClick:()=>A.push("/templates/".concat(e.id,"/share")),children:[(0,a.jsx)(y,{className:"h-4 w-4 mr-2"}),"Share"]}),(0,a.jsx)(v.VD,{}),(0,a.jsxs)(v.Xi,{className:"text-red-600",onClick:()=>L(e),children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]},e.id)})})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,a.jsx)("div",{className:"rounded-full bg-muted p-3 mb-3",children:(0,a.jsx)(h.Z,{className:"h-6 w-6 text-muted-foreground"})}),(0,a.jsx)("h3",{className:"text-lg font-medium",children:"No templates found"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1 mb-4",children:T?"No templates match your search criteria.":"You haven't created any templates yet."}),!T&&(0,a.jsx)(i.z,{asChild:!0,children:(0,a.jsxs)(f.default,{href:"/templates/create",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Create Template"]})})]})})]}),(0,a.jsx)(w.aR,{open:!!E,onOpenChange:e=>!e&&L(null),children:(0,a.jsxs)(w._T,{children:[(0,a.jsxs)(w.fY,{children:[(0,a.jsx)(w.f$,{children:"Are you absolutely sure?"}),(0,a.jsxs)(w.yT,{children:["This will permanently delete the template",(null==E?void 0:E.title)&&(0,a.jsxs)("strong",{children:[' "',E.title,'"']})," and all of its responses. This action cannot be undone."]})]}),(0,a.jsxs)(w.xo,{children:[(0,a.jsx)(w.le,{children:"Cancel"}),(0,a.jsx)(w.OL,{onClick:D,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]}):(0,a.jsx)("div",{children:"Loading user data..."})}},767:function(e,t,r){"use strict";r.d(t,{OL:function(){return p},_T:function(){return u},aR:function(){return c},f$:function(){return h},fY:function(){return f},le:function(){return y},xo:function(){return m},yT:function(){return x}});var a=r(7437),n=r(2265),s=r(394),l=r(3448),i=r(2381);let c=s.fC;s.xz;let d=e=>{let{...t}=e;return(0,a.jsx)(s.h_,{...t})};d.displayName=s.h_.displayName;let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.aV,{className:(0,l.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...n,ref:t})});o.displayName=s.aV.displayName;let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(o,{}),(0,a.jsx)(s.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...n})]})});u.displayName=s.VY.displayName;let f=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...r})};f.displayName="AlertDialogHeader";let m=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};m.displayName="AlertDialogFooter";let h=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold",r),...n})});h.displayName=s.Dx.displayName;let x=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...n})});x.displayName=s.dk.displayName;let p=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.aU,{ref:t,className:(0,l.cn)((0,i.d)(),r),...n})});p.displayName=s.aU.displayName;let y=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.$j,{ref:t,className:(0,l.cn)((0,i.d)({variant:"outline"}),"mt-2 sm:mt-0",r),...n})});y.displayName=s.$j.displayName},279:function(e,t,r){"use strict";r.d(t,{I:function(){return l}});var a=r(7437),n=r(2265),s=r(3448);let l=n.forwardRef((e,t)=>{let{className:r,type:n,...l}=e;return(0,a.jsx)("input",{type:n,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...l})});l.displayName="Input"},9140:function(e,t,r){"use strict";r.d(t,{O:function(){return s}});var a=r(7437),n=r(3448);function s(e){let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-md bg-muted",t),...r})}},3804:function(e,t,r){"use strict";r.d(t,{RM:function(){return c},Rn:function(){return f},SC:function(){return d},iA:function(){return l},pj:function(){return u},ss:function(){return o},xD:function(){return i}});var a=r(7437),n=r(2265),s=r(3448);let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{className:"w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,s.cn)("w-full caption-bottom text-sm",r),...n})})});l.displayName="Table";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("thead",{ref:t,className:(0,s.cn)("[&_tr]:border-b",r),...n})});i.displayName="TableHeader";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,s.cn)("[&_tr:last-child]:border-0",r),...n})});c.displayName="TableBody",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,s.cn)("bg-primary font-medium text-primary-foreground",r),...n})}).displayName="TableFooter";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("tr",{ref:t,className:(0,s.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...n})});d.displayName="TableRow";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("th",{ref:t,className:(0,s.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...n})});o.displayName="TableHead";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("td",{ref:t,className:(0,s.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...n})});u.displayName="TableCell";let f=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("caption",{ref:t,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",r),...n})});f.displayName="TableCaption"},7802:function(e,t,r){"use strict";r.d(t,{P:function(){return n}});var a=r(9642);let n={async getUserStats(){try{return(await a.Z.get("/dashboard/stats")).data}catch(e){throw console.error("Failed to fetch user stats:",e),e}},async getRecentActivity(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;try{return(await a.Z.get("/dashboard/recent?limit=".concat(e))).data}catch(e){throw console.error("Failed to fetch recent activity:",e),e}},async getUserTemplates(){try{return(await a.Z.get("/dashboard/templates")).data}catch(e){throw console.error("Failed to fetch user templates:",e),e}},async getUserResponses(){try{return(await a.Z.get("/dashboard/responses")).data}catch(e){throw console.error("Failed to fetch user responses:",e),e}},async deleteTemplate(e,t){try{await a.Z.delete("/templates/".concat(e),{data:{version:t}})}catch(t){throw console.error("Failed to delete template ".concat(e,":"),t),t}}}},1146:function(e,t,r){"use strict";r.d(t,{NY:function(){return k},Ee:function(){return N},fC:function(){return b}});var a=r(2265),n=r(3966),s=r(6606),l=r(1188),i=r(6840),c=r(2558);function d(){return()=>{}}var o=r(7437),u="Avatar",[f,m]=(0,n.b)(u),[h,x]=f(u),p=a.forwardRef((e,t)=>{let{__scopeAvatar:r,...n}=e,[s,l]=a.useState("idle");return(0,o.jsx)(h,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:l,children:(0,o.jsx)(i.WV.span,{...n,ref:t})})});p.displayName=u;var y="AvatarImage",j=a.forwardRef((e,t)=>{let{__scopeAvatar:r,src:n,onLoadingStatusChange:u=()=>{},...f}=e,m=x(y,r),h=function(e,t){let{referrerPolicy:r,crossOrigin:n}=t,s=(0,c.useSyncExternalStore)(d,()=>!0,()=>!1),i=a.useRef(null),o=s?(i.current||(i.current=new window.Image),i.current):null,[u,f]=a.useState(()=>w(o,e));return(0,l.b)(()=>{f(w(o,e))},[o,e]),(0,l.b)(()=>{let e=e=>()=>{f(e)};if(!o)return;let t=e("loaded"),a=e("error");return o.addEventListener("load",t),o.addEventListener("error",a),r&&(o.referrerPolicy=r),"string"==typeof n&&(o.crossOrigin=n),()=>{o.removeEventListener("load",t),o.removeEventListener("error",a)}},[o,n,r]),u}(n,f),p=(0,s.W)(e=>{u(e),m.onImageLoadingStatusChange(e)});return(0,l.b)(()=>{"idle"!==h&&p(h)},[h,p]),"loaded"===h?(0,o.jsx)(i.WV.img,{...f,ref:t,src:n}):null});j.displayName=y;var v="AvatarFallback",g=a.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:n,...s}=e,l=x(v,r),[c,d]=a.useState(void 0===n);return a.useEffect(()=>{if(void 0!==n){let e=window.setTimeout(()=>d(!0),n);return()=>window.clearTimeout(e)}},[n]),c&&"loaded"!==l.imageLoadingStatus?(0,o.jsx)(i.WV.span,{...s,ref:t}):null});function w(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}g.displayName=v;var b=p,N=j,k=g}},function(e){e.O(0,[284,464,972,513,832,331,128,324,713,582,971,117,744],function(){return e(e.s=6937)}),_N_E=e.O()}]);