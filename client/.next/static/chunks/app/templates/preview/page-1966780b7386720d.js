(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6932],{8762:function(e,t,r){Promise.resolve().then(r.bind(r,4402))},4402:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var n=r(7437),s=r(2265),i=r(9820),a=r(2381),o=r(279),l=r(3675),d=r(9270),c=r(401),u=r(3448);let f=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(d.fC,{ref:t,className:(0,u.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...s,children:(0,n.jsx)(d.z$,{className:(0,u.cn)("flex items-center justify-center text-current"),children:(0,n.jsx)(c.Z,{className:"h-4 w-4"})})})});f.displayName=d.fC.displayName;var m=r(5060),p=r(9174),x=r(2660),v=r(3229);let g={title:"Example Template",description:"This is a preview template for demonstration purposes",isPublic:!0,topicId:"",tags:["preview","example"],isQuiz:!0,showScoreImmediately:!0,questionFields:[{id:"field_default_1",type:"String",index:1,question:"What is the capital of France?",isActive:!0,answer:"Paris",points:5},{id:"field_default_2",type:"Int",index:1,question:"What is 5 + 7?",isActive:!0,answer:12,points:3},{id:"field_default_3",type:"Checkbox",index:1,question:"Is water wet?",isActive:!0,answer:!0,points:2}]};function b(){let[e,t]=(0,s.useState)(null),[r,d]=(0,s.useState)({}),[c,u]=(0,s.useState)(!1),[b,h]=(0,s.useState)({earned:0,total:0});(0,s.useEffect)(()=>{try{let e=localStorage.getItem("template_preview");e?t(JSON.parse(e)):t(g)}catch(e){console.error("Error loading preview data:",e),t(g)}},[]);let y=(e,t)=>{d(r=>({...r,[e]:t}))},w=()=>{if(!(null==e?void 0:e.isQuiz))return;let t=0,n=0;e.questionFields.forEach(e=>{if(!e.isActive)return;let s=r["custom".concat(e.type).concat(e.index)];n+=e.points||0,"String"===e.type||"Text"===e.type?s&&s.toLowerCase()===e.answer.toLowerCase()&&(t+=e.points||0):"Int"===e.type?Number(s)===e.answer&&(t+=e.points||0):"Checkbox"===e.type&&s===e.answer&&(t+=e.points||0)}),h({earned:t,total:n})};return e?(0,n.jsxs)("div",{className:"container py-8 max-w-3xl",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"Preview Template"}),(0,n.jsxs)(a.z,{variant:"outline",onClick:()=>window.close(),children:[(0,n.jsx)(x.Z,{className:"mr-2 h-4 w-4"}),"Close Preview"]})]}),(0,n.jsxs)(i.Zb,{className:"mb-8",children:[(0,n.jsxs)(i.Ol,{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(i.ll,{children:e.title}),(0,n.jsx)(i.SZ,{children:e.description})]}),e.isQuiz&&(0,n.jsx)(p.C,{variant:"outline",className:"ml-2",children:"Quiz"})]}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:e.tags.map((e,t)=>(0,n.jsx)(p.C,{variant:"secondary",children:e},t))})]}),(0,n.jsx)(i.aY,{children:(0,n.jsxs)("form",{onSubmit:t=>{t.preventDefault(),u(!0),(null==e?void 0:e.isQuiz)&&w()},className:"space-y-6",children:[e.questionFields.filter(e=>e.isActive).map((t,s)=>{var i,a,d,u;let p="custom".concat(t.type).concat(t.index);return(0,n.jsxs)("div",{className:"space-y-2 p-3 border rounded-md",children:[(0,n.jsxs)(m._,{htmlFor:p,className:"font-medium text-base",children:[s+1,". ",t.question,e.isQuiz&&(0,n.jsxs)("span",{className:"ml-1 text-sm text-muted-foreground",children:["(",t.points," points)"]})]}),"String"===t.type&&(0,n.jsx)(o.I,{id:p,value:r[p]||"",onChange:e=>y(p,e.target.value),disabled:c,className:"max-w-lg"}),"Text"===t.type&&(0,n.jsx)(l.g,{id:p,value:r[p]||"",onChange:e=>y(p,e.target.value),disabled:c,rows:3}),"Int"===t.type&&(0,n.jsx)(o.I,{id:p,type:"number",value:r[p]||"",onChange:e=>y(p,Number(e.target.value)),disabled:c,className:"max-w-xs"}),"Checkbox"===t.type&&(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(f,{id:p,checked:r[p]||!1,onCheckedChange:e=>y(p,!!e),disabled:c}),(0,n.jsx)("label",{htmlFor:p,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Yes"})]}),c&&e.isQuiz&&e.showScoreImmediately&&(0,n.jsx)("div",{className:"mt-2 text-sm",children:(0,n.jsx)("p",{className:"String"===t.type||"Text"===t.type?(null===(i=r[p])||void 0===i?void 0:i.toLowerCase())===(null===(a=t.answer)||void 0===a?void 0:a.toLowerCase())?"text-green-600":"text-red-600":r[p]===t.answer?"text-green-600":"text-red-600",children:"String"===t.type||"Text"===t.type?(null===(d=r[p])||void 0===d?void 0:d.toLowerCase())===(null===(u=t.answer)||void 0===u?void 0:u.toLowerCase())?"Correct!":"Incorrect. The correct answer is: ".concat(t.answer):"Int"===t.type?r[p]===t.answer?"Correct!":"Incorrect. The correct answer is: ".concat(t.answer):r[p]===t.answer?"Correct!":"Incorrect. The correct answer is: ".concat(t.answer?"Yes":"No")})})]},t.id)}),(0,n.jsx)("div",{className:"pt-4 flex justify-end gap-4",children:c?(0,n.jsxs)(n.Fragment,{children:[e.isQuiz&&(0,n.jsx)("div",{className:"mr-auto p-4 bg-muted rounded-md",children:(0,n.jsxs)("p",{className:"font-medium",children:["Your score: ",b.earned," out of ",b.total," points (",b.total>0?Math.round(b.earned/b.total*100):0,"%)"]})}),(0,n.jsx)(a.z,{type:"button",variant:"outline",onClick:()=>{d({}),u(!1)},children:"Try Again"})]}):(0,n.jsxs)(a.z,{type:"submit",children:[(0,n.jsx)(v.Z,{className:"mr-2 h-4 w-4"}),"Submit"]})})]})})]})]}):(0,n.jsx)("div",{className:"container py-8 flex justify-center items-center min-h-[60vh]",children:(0,n.jsxs)("div",{className:"text-center space-y-4",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold",children:"Loading Preview"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Please wait..."})]})})}},9174:function(e,t,r){"use strict";r.d(t,{C:function(){return o}});var n=r(7437);r(2265);var s=r(535),i=r(3448);let a=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,...s}=e;return(0,n.jsx)("div",{className:(0,i.cn)(a({variant:r}),t),...s})}},2381:function(e,t,r){"use strict";r.d(t,{d:function(){return l},z:function(){return d}});var n=r(7437),s=r(2265),i=r(7053),a=r(535),o=r(3448);let l=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:a,asChild:d=!1,...c}=e,u=d?i.Slot:"button";return(0,n.jsx)(u,{className:(0,o.cn)(l({variant:s,size:a,className:r})),ref:t,...c})});d.displayName="Button"},9820:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},SZ:function(){return d},Zb:function(){return a},aY:function(){return c},eW:function(){return u},ll:function(){return l}});var n=r(7437),s=r(2265),i=r(3448);let a=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});a.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...s})});o.displayName="CardHeader";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});l.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},279:function(e,t,r){"use strict";r.d(t,{I:function(){return a}});var n=r(7437),s=r(2265),i=r(3448);let a=s.forwardRef((e,t)=>{let{className:r,type:s,...a}=e;return(0,n.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...a})});a.displayName="Input"},5060:function(e,t,r){"use strict";r.d(t,{_:function(){return d}});var n=r(7437),s=r(2265),i=r(6394),a=r(535),o=r(3448);let l=(0,a.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(i.f,{ref:t,className:(0,o.cn)(l(),r),...s})});d.displayName=i.f.displayName},3675:function(e,t,r){"use strict";r.d(t,{g:function(){return a}});var n=r(7437),s=r(2265),i=r(3448);let a=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...s})});a.displayName="Textarea"},3448:function(e,t,r){"use strict";r.d(t,{cn:function(){return i}});var n=r(1994),s=r(3335);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}}},function(e){e.O(0,[6284,110,2971,2117,1744],function(){return e(e.s=8762)}),_N_E=e.O()}]);