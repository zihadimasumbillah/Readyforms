(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3e3],{8780:function(t,e,s){Promise.resolve().then(s.bind(s,2101))},9376:function(t,e,s){"use strict";var a=s(5475);s.o(a,"useParams")&&s.d(e,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(e,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(e,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(e,{useSearchParams:function(){return a.useSearchParams}})},2101:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return p}});var a=s(7437),r=s(2265),n=s(2287),o=s(6861),i=s(154),u=s(2381),c=s(9376),l=s(4881),d=s(8752);function p(){let[t,e]=(0,r.useState)([]),[s,p]=(0,r.useState)([]),[m,f]=(0,r.useState)(!0),h=(0,c.useRouter)(),{user:A}=(0,l.a)()||{};return(0,r.useEffect)(()=>{(async()=>{f(!0);try{let t=await i.wE.getAllTopics();console.log("Topics data type:",typeof t),console.log("Topics is array:",Array.isArray(t));let s=Array.isArray(t)?t:[];p(s);let a=await o.t.getAllTemplates();console.log("Templates data type:",typeof a),console.log("Templates is array:",Array.isArray(a));let r=Array.isArray(a)?a:[];e(r)}catch(t){console.error("Error fetching data:",t),(0,d.Am)({title:"Error",description:"Failed to load templates. Please try again.",variant:"destructive"})}finally{f(!1)}})()},[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"container mx-auto py-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Form Templates"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:"Browse ready-made templates or create your own"})]}),(0,a.jsx)(u.z,{onClick:()=>{A?h.push("/templates/create"):((0,d.Am)({title:"Authentication Required",description:"Please log in to create a template",variant:"default"}),h.push("/auth/login?redirect=/templates/create"))},children:"Create Template"})]}),(0,a.jsx)(n.k,{templates:t,topics:s,loading:m})]})})}},8752:function(t,e,s){"use strict";s.d(e,{Am:function(){return d},pm:function(){return p}});var a=s(2265);let r=0,n=new Map,o=t=>{if(n.has(t))return;let e=setTimeout(()=>{n.delete(t),l({type:"REMOVE_TOAST",toastId:t})},1e6);n.set(t,e)},i=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,10)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{let{toastId:s}=e;return s?o(s):t.toasts.forEach(t=>{o(t.id)}),{...t,toasts:t.toasts.map(t=>t.id===s||void 0===s?{...t,open:!1}:t)}}case"REMOVE_TOAST":if(void 0===e.toastId)return{...t,toasts:[]};return{...t,toasts:t.toasts.filter(t=>t.id!==e.toastId)}}},u=[],c={toasts:[]};function l(t){c=i(c,t),u.forEach(t=>{t(c)})}function d(t){let{...e}=t,s=(r=(r+1)%Number.MAX_VALUE).toString(),a=()=>l({type:"DISMISS_TOAST",toastId:s});return l({type:"ADD_TOAST",toast:{...e,id:s,open:!0,onOpenChange:t=>{t||a()}}}),{id:s,dismiss:a,update:t=>l({type:"UPDATE_TOAST",toast:{...t,id:s}})}}function p(){let[t,e]=a.useState(c);return a.useEffect(()=>(u.push(e),()=>{let t=u.indexOf(e);t>-1&&u.splice(t,1)}),[t]),{...t,toast:d,dismiss:t=>l({type:"DISMISS_TOAST",toastId:t})}}}},function(t){t.O(0,[5569,3464,2972,6052,3534,820,7558,5026,2971,2117,1744],function(){return t(t.s=8780)}),_N_E=t.O()}]);