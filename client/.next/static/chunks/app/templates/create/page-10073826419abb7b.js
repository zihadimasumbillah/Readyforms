(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{9032:function(e,s,t){Promise.resolve().then(t.bind(t,95))},95:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return q}});var i=t(7437),n=t(2265),a=t(9376),r=t(4881),l=t(6861),c=t(154),o=t(2381),d=t(279),u=t(3675),m=t(721),x=t(3448);let h=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,i.jsx)(m.fC,{className:(0,x.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...n,ref:s,children:(0,i.jsx)(m.bU,{className:(0,x.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});h.displayName=m.fC.displayName;var p=t(5060),f=t(5291),j=t(9820),v=t(8752),g=t(7168),N=t(9174),y=t(1905),b=t(2489),w=t(9397),S=t(2208),C=t(5863),k=t(3229),A=t(795),T=t(3662),E=t(9892);function _(e){let{field:s,onUpdateField:t,onRemoveField:n,isQuizMode:a}=e,{attributes:r,listeners:l,setNodeRef:c,transform:u,transition:m}=(0,T.nB)({id:s.id}),x={transform:E.ux.Transform.toString(u),transition:m},f=s.type.charAt(0).toUpperCase()+s.type.slice(1);return(0,i.jsxs)("div",{ref:c,style:x,className:"bg-background border rounded-md p-4 mb-3 relative",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,i.jsx)("div",{...r,...l,className:"cursor-grab",children:(0,i.jsx)(y.Z,{className:"h-5 w-5 text-muted-foreground"})}),(0,i.jsxs)(N.C,{variant:"outline",className:"font-normal",children:[f," question"]}),(0,i.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[(0,i.jsx)(h,{id:"active-".concat(s.id),checked:s.isActive,onCheckedChange:e=>t({...s,isActive:e})}),(0,i.jsx)(p._,{htmlFor:"active-".concat(s.id),children:"Active"}),(0,i.jsx)(o.z,{variant:"ghost",size:"sm",onClick:()=>n(s.id),className:"h-8 w-8 p-0 ml-2",children:(0,i.jsx)(b.Z,{className:"h-4 w-4"})})]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(p._,{htmlFor:"question-".concat(s.id),children:"Question"}),(0,i.jsx)(d.I,{id:"question-".concat(s.id),value:s.question,onChange:e=>t({...s,question:e.target.value}),placeholder:"Enter your ".concat(f.toLowerCase()," question"),className:"mt-1"})]}),a&&(0,i.jsxs)("div",{className:"bg-muted/50 p-3 rounded-md space-y-3 border",children:[(0,i.jsx)("h4",{className:"text-sm font-medium",children:"Scoring options"}),(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)(p._,{htmlFor:"answer-".concat(s.id),children:"Correct Answer"}),"String"===s.type||"Text"===s.type?(0,i.jsx)(d.I,{id:"answer-".concat(s.id),value:s.answer||"",onChange:e=>t({...s,answer:e.target.value}),placeholder:"Enter correct answer"}):"Int"===s.type?(0,i.jsx)(d.I,{id:"answer-".concat(s.id),type:"number",value:s.answer||"",onChange:e=>t({...s,answer:Number(e.target.value)}),placeholder:"Enter correct number"}):(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(h,{id:"answer-".concat(s.id),checked:s.answer||!1,onCheckedChange:e=>t({...s,answer:e})}),(0,i.jsx)(p._,{htmlFor:"answer-".concat(s.id),children:"True/Yes is correct"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(p._,{htmlFor:"points-".concat(s.id),children:"Points"}),(0,i.jsx)(d.I,{id:"points-".concat(s.id),type:"number",min:"0",step:"1",value:s.points||0,onChange:e=>t({...s,points:Number(e.target.value)}),className:"mt-1"})]})]})]})]})}function q(){var e;let s=(0,a.useRouter)(),{user:t}=(0,r.a)()||{},[m,x]=(0,n.useState)(""),[y,E]=(0,n.useState)(""),[q,I]=(0,n.useState)(!0),[z,O]=(0,n.useState)(""),[P,F]=(0,n.useState)([]),[D,Q]=(0,n.useState)(""),[Z,R]=(0,n.useState)([]),[U,V]=(0,n.useState)([]),[M,Y]=(0,n.useState)(!1),[L,B]=(0,n.useState)(!1),[W,J]=(0,n.useState)("basic"),[G,K]=(0,n.useState)(!1),[X,H]=(0,n.useState)(!0),$=(0,A.Dy)((0,A.VT)(A.we),(0,A.VT)(A.Lg,{coordinateGetter:T.is}));(0,n.useEffect)(()=>{(async()=>{try{H(!0);let e=await c.wE.getAllTopics();F(e),e.length>0&&O(e[0].id)}catch(e){console.error("Failed to fetch topics:",e),(0,v.Am)({title:"Error",description:"Failed to load topics. Please try again.",variant:"destructive"})}finally{H(!1)}})()},[]),(0,n.useEffect)(()=>{t||s.push("/auth/login?redirect=/templates/create")},[t,s]);let ee=()=>"field_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),es=e=>{let s=U.filter(s=>s.type===e).length+1;V([...U,{id:ee(),type:e,index:s,question:"",isActive:!0,answer:"Checkbox"!==e&&"",points:1}])},et=e=>{V(U.map(s=>s.id===e.id?e:s))},ei=e=>{V(U.filter(s=>s.id!==e))},en=()=>{D.trim()&&!Z.includes(D.trim())&&(R([...Z,D.trim()]),Q(""))},ea=e=>{R(Z.filter(s=>s!==e))},er=()=>{let e=U.filter(e=>e.isActive).map(e=>"custom".concat(e.type).concat(e.index)),s={};M&&U.filter(e=>e.isActive).forEach(e=>{s["custom".concat(e.type).concat(e.index,"Answer")]={answer:e.answer,points:e.points||0}});let t={title:m,description:y,isPublic:q,topicId:z,tags:Z,isQuiz:M,showScoreImmediately:M&&L,scoringCriteria:M?JSON.stringify(s):"{}",questionOrder:JSON.stringify(e)};return U.forEach(e=>{let s="custom".concat(e.type).concat(e.index,"State"),i="custom".concat(e.type).concat(e.index,"Question");t[s]=e.isActive,t[i]=e.question}),t},el=async e=>{if(e.preventDefault(),!m.trim()){(0,v.Am)({title:"Error",description:"Template title is required",variant:"destructive"});return}if(!z){(0,v.Am)({title:"Error",description:"Please select a topic",variant:"destructive"});return}let t=U.filter(e=>e.isActive);if(0===t.length){(0,v.Am)({title:"Error",description:"Please add at least one question to your template",variant:"destructive"});return}if(t.filter(e=>!e.question.trim()).length>0){(0,v.Am)({title:"Error",description:"All active questions must have content",variant:"destructive"});return}if(M&&t.filter(e=>"String"===e.type||"Text"===e.type?!e.answer||""===e.answer.trim():"Int"===e.type&&(void 0===e.answer||null===e.answer)).length>0){(0,v.Am)({title:"Error",description:"All quiz questions must have correct answers defined",variant:"destructive"});return}try{K(!0);let e=er(),t=await l.t.createTemplate(e);(0,v.Am)({title:"Success",description:"Template created successfully"}),s.push("/templates/".concat(t.id))}catch(e){var i,n;console.error("Failed to create template:",e),(0,v.Am)({title:"Error",description:(null===(n=e.response)||void 0===n?void 0:null===(i=n.data)||void 0===i?void 0:i.message)||"Failed to create template. Please try again.",variant:"destructive"})}finally{K(!1)}},ec=[...U].sort((e,s)=>e.type!==s.type?e.type.localeCompare(s.type):e.index-s.index);return(ec.filter(e=>"String"===e.type),ec.filter(e=>"Text"===e.type),ec.filter(e=>"Int"===e.type),ec.filter(e=>"Checkbox"===e.type),t)?(0,i.jsxs)("div",{className:"container py-8 max-w-4xl",children:[(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold",children:"Create Template"}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"Create a new form template for users to fill out"})]}),(0,i.jsx)("form",{onSubmit:el,children:(0,i.jsxs)(g.mQ,{value:W,onValueChange:J,className:"space-y-4",children:[(0,i.jsxs)(g.dr,{className:"grid w-full grid-cols-4",children:[(0,i.jsx)(g.SP,{value:"basic",children:"Basic Info"}),(0,i.jsx)(g.SP,{value:"questions",children:"Questions"}),(0,i.jsx)(g.SP,{value:"settings",children:"Settings"}),(0,i.jsx)(g.SP,{value:"preview",children:"Preview"})]}),(0,i.jsx)(g.nU,{value:"basic",className:"space-y-4",children:(0,i.jsxs)(j.Zb,{children:[(0,i.jsxs)(j.Ol,{children:[(0,i.jsx)(j.ll,{children:"Template Details"}),(0,i.jsx)(j.SZ,{children:"Set the basic information for your template"})]}),(0,i.jsxs)(j.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(p._,{htmlFor:"title",children:"Title"}),(0,i.jsx)(d.I,{id:"title",placeholder:"Enter template title",value:m,onChange:e=>x(e.target.value),required:!0})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(p._,{htmlFor:"description",children:"Description"}),(0,i.jsx)(u.g,{id:"description",placeholder:"Enter template description",value:y,onChange:e=>E(e.target.value),rows:4})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(p._,{htmlFor:"topic",children:"Topic"}),(0,i.jsxs)(f.Ph,{value:z,onValueChange:e=>O(e),disabled:X,children:[(0,i.jsx)(f.i4,{id:"topic",className:"w-full",children:(0,i.jsx)(f.ki,{placeholder:"Select a topic"})}),(0,i.jsx)(f.Bw,{children:P.map(e=>(0,i.jsx)(f.Ql,{value:e.id,children:e.name},e.id))})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(p._,{htmlFor:"tags",children:"Tags"}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)(d.I,{id:"tags",placeholder:"Add tags (press Enter or comma to add)",value:D,onChange:e=>Q(e.target.value),onKeyDown:e=>{("Enter"===e.key||","===e.key)&&(e.preventDefault(),en())}}),(0,i.jsx)(o.z,{type:"button",onClick:en,variant:"outline",children:"Add"})]}),(0,i.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:Z.map((e,s)=>(0,i.jsxs)(N.C,{variant:"secondary",className:"px-2 py-1",children:[e,(0,i.jsx)(b.Z,{className:"ml-1 h-3 w-3 cursor-pointer",onClick:()=>ea(e)})]},s))})]})]}),(0,i.jsxs)(j.eW,{className:"flex justify-between",children:[(0,i.jsx)(o.z,{variant:"outline",onClick:()=>s.push("/templates"),type:"button",children:"Cancel"}),(0,i.jsx)(o.z,{type:"button",onClick:()=>J("questions"),children:"Next: Add Questions"})]})]})}),(0,i.jsx)(g.nU,{value:"questions",className:"space-y-4",children:(0,i.jsxs)(j.Zb,{children:[(0,i.jsxs)(j.Ol,{children:[(0,i.jsx)(j.ll,{children:"Template Questions"}),(0,i.jsx)(j.SZ,{children:"Add and customize questions for your template"})]}),(0,i.jsxs)(j.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(h,{id:"quiz-mode",checked:M,onCheckedChange:Y}),(0,i.jsx)(p._,{htmlFor:"quiz-mode",children:"Quiz Mode (allows scoring and correct answers)"})]}),M&&(0,i.jsxs)("div",{className:"mt-2 flex items-center space-x-2",children:[(0,i.jsx)(h,{id:"show-score",checked:L,onCheckedChange:B}),(0,i.jsx)(p._,{htmlFor:"show-score",children:"Show score immediately after submission"})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsxs)(o.z,{type:"button",onClick:()=>es("String"),variant:"outline",className:"justify-start",children:[(0,i.jsx)(w.Z,{className:"mr-2 h-4 w-4"}),"Short Answer Question"]}),(0,i.jsxs)(o.z,{type:"button",onClick:()=>es("Text"),variant:"outline",className:"justify-start",children:[(0,i.jsx)(w.Z,{className:"mr-2 h-4 w-4"}),"Long Answer Question"]}),(0,i.jsxs)(o.z,{type:"button",onClick:()=>es("Int"),variant:"outline",className:"justify-start",children:[(0,i.jsx)(w.Z,{className:"mr-2 h-4 w-4"}),"Number Question"]}),(0,i.jsxs)(o.z,{type:"button",onClick:()=>es("Checkbox"),variant:"outline",className:"justify-start",children:[(0,i.jsx)(w.Z,{className:"mr-2 h-4 w-4"}),"Yes/No Question"]})]}),(0,i.jsxs)("div",{className:"mt-6",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Question List"}),0===U.length?(0,i.jsx)("div",{className:"text-center p-8 border border-dashed rounded-md",children:(0,i.jsx)("p",{className:"text-muted-foreground",children:"No questions added yet. Add some questions using the buttons above."})}):(0,i.jsx)(A.LB,{sensors:$,collisionDetection:A.pE,onDragEnd:e=>{let{active:s,over:t}=e;t&&s.id!==t.id&&V(e=>{let i=e.findIndex(e=>e.id===s.id),n=e.findIndex(e=>e.id===t.id);return(0,T.Rp)(e,i,n)})},children:(0,i.jsx)(T.Fo,{items:U.map(e=>e.id),strategy:T.qw,children:ec.map(e=>(0,i.jsx)(_,{field:e,onUpdateField:et,onRemoveField:ei,isQuizMode:M},e.id))})})]})]}),(0,i.jsxs)(j.eW,{className:"flex justify-between",children:[(0,i.jsx)(o.z,{variant:"outline",onClick:()=>J("basic"),type:"button",children:"Previous: Basic Info"}),(0,i.jsx)(o.z,{type:"button",onClick:()=>J("settings"),children:"Next: Settings"})]})]})}),(0,i.jsx)(g.nU,{value:"settings",className:"space-y-4",children:(0,i.jsxs)(j.Zb,{children:[(0,i.jsxs)(j.Ol,{children:[(0,i.jsx)(j.ll,{children:"Template Settings"}),(0,i.jsx)(j.SZ,{children:"Configure visibility and other settings"})]}),(0,i.jsxs)(j.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(h,{id:"public",checked:q,onCheckedChange:I}),(0,i.jsx)(p._,{htmlFor:"public",children:"Public Template (visible to all users)"})]}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:q?"Anyone can view and use this template.":"Only you can view and use this template."})]}),(0,i.jsxs)(j.eW,{className:"flex justify-between",children:[(0,i.jsx)(o.z,{variant:"outline",onClick:()=>J("questions"),type:"button",children:"Previous: Questions"}),(0,i.jsx)(o.z,{type:"button",onClick:()=>J("preview"),children:"Next: Preview"})]})]})}),(0,i.jsx)(g.nU,{value:"preview",className:"space-y-4",children:(0,i.jsxs)(j.Zb,{children:[(0,i.jsxs)(j.Ol,{children:[(0,i.jsx)(j.ll,{children:"Template Preview"}),(0,i.jsx)(j.SZ,{children:"Review your template before creating"})]}),(0,i.jsxs)(j.aY,{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold",children:"Basic Information"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border rounded-md",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:"Title"}),(0,i.jsx)("p",{className:"font-medium",children:m||"No title"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:"Topic"}),(0,i.jsx)("p",{className:"font-medium",children:(null===(e=P.find(e=>e.id===z))||void 0===e?void 0:e.name)||"No topic selected"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:"Visibility"}),(0,i.jsx)("p",{className:"font-medium",children:q?"Public":"Private"})]}),(0,i.jsxs)("div",{className:"col-span-3",children:[(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:"Description"}),(0,i.jsx)("p",{children:y||"No description provided"})]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Questions"}),U.filter(e=>e.isActive).length>0?(0,i.jsx)("div",{className:"space-y-3",children:ec.filter(e=>e.isActive).map((e,s)=>{var t;return(0,i.jsxs)("div",{className:"p-4 border rounded-md",children:[(0,i.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,i.jsxs)(N.C,{variant:"outline",children:[e.type," question"]}),M&&(0,i.jsxs)(N.C,{children:["Worth ",e.points||0," points"]})]}),(0,i.jsxs)("p",{className:"font-medium",children:[s+1,". ",e.question||"Untitled question"]}),M&&(0,i.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["Correct answer: ","Checkbox"===e.type?e.answer?"Yes":"No":(null===(t=e.answer)||void 0===t?void 0:t.toString())||"Not set"]})]},e.id)})}):(0,i.jsx)("div",{className:"text-center p-8 border border-dashed rounded-md",children:(0,i.jsx)("p",{className:"text-muted-foreground",children:"No active questions in this template."})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Tags"}),(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:Z.length>0?Z.map((e,s)=>(0,i.jsx)(N.C,{variant:"secondary",children:e},s)):(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:"No tags added"})})]})]}),(0,i.jsxs)(j.eW,{className:"flex flex-col md:flex-row gap-4 justify-between items-stretch md:items-center",children:[(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)(o.z,{variant:"outline",onClick:()=>J("settings"),type:"button",className:"flex-1 md:flex-none",children:"Previous: Settings"}),(0,i.jsxs)(o.z,{variant:"secondary",type:"button",className:"flex-1 md:flex-none",onClick:()=>{let e={title:m,description:y,isPublic:q,topicId:z,tags:Z,isQuiz:M,showScoreImmediately:L,questionFields:U.filter(e=>e.isActive)};localStorage.setItem("template_preview",JSON.stringify(e)),window.open("/templates/preview","_blank")},children:[(0,i.jsx)(S.Z,{className:"mr-2 h-4 w-4"}),"Full Preview"]})]}),(0,i.jsx)(o.z,{type:"submit",className:"flex-1 md:flex-none",disabled:G,children:G?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(C.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.Z,{className:"mr-2 h-4 w-4"}),"Create Template"]})})]})]})})]})})]}):(0,i.jsx)("div",{className:"flex justify-center items-center h-screen",children:"Loading..."})}},5060:function(e,s,t){"use strict";t.d(s,{_:function(){return o}});var i=t(7437),n=t(2265),a=t(6394),r=t(535),l=t(3448);let c=(0,r.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,i.jsx)(a.f,{ref:s,className:(0,l.cn)(c(),t),...n})});o.displayName=a.f.displayName},7168:function(e,s,t){"use strict";t.d(s,{SP:function(){return o},dr:function(){return c},mQ:function(){return l},nU:function(){return d}});var i=t(7437),n=t(2265),a=t(271),r=t(3448);let l=a.fC,c=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,i.jsx)(a.aV,{ref:s,className:(0,r.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...n})});c.displayName=a.aV.displayName;let o=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,i.jsx)(a.xz,{ref:s,className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...n})});o.displayName=a.xz.displayName;let d=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,i.jsx)(a.VY,{ref:s,className:(0,r.cn)("ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...n})});d.displayName=a.VY.displayName},3675:function(e,s,t){"use strict";t.d(s,{g:function(){return r}});var i=t(7437),n=t(2265),a=t(3448);let r=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,i.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...n})});r.displayName="Textarea"},8752:function(e,s,t){"use strict";t.d(s,{Am:function(){return u},pm:function(){return m}});var i=t(2265);let n=0,a=new Map,r=e=>{if(a.has(e))return;let s=setTimeout(()=>{a.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,s)},l=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,10)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?r(t):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},c=[],o={toasts:[]};function d(e){o=l(o,e),c.forEach(e=>{e(o)})}function u(e){let{...s}=e,t=(n=(n+1)%Number.MAX_VALUE).toString(),i=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:e=>{e||i()}}}),{id:t,dismiss:i,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function m(){let[e,s]=i.useState(o);return i.useEffect(()=>(c.push(s),()=>{let e=c.indexOf(s);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}}},function(e){e.O(0,[284,73,52,534,763,878,558,971,117,744],function(){return e(e.s=9032)}),_N_E=e.O()}]);