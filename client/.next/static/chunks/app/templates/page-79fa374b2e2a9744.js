(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[0],{8780:function(t,e,s){Promise.resolve().then(s.bind(s,2101))},2101:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return p}});var a=s(7437),r=s(2265),o=s(2287),n=s(6861),i=s(154),l=s(2381),c=s(9376),u=s(4881),d=s(8752);function p(){let[t,e]=(0,r.useState)([]),[s,p]=(0,r.useState)([]),[f,m]=(0,r.useState)(!0),A=(0,c.useRouter)(),{user:T}=(0,u.a)()||{};return(0,r.useEffect)(()=>{(async()=>{m(!0);try{let t=await i.wE.getAllTopics();console.log("Topics data type:",typeof t),console.log("Topics is array:",Array.isArray(t));let s=Array.isArray(t)?t:[];p(s);let a=await n.t.getAllTemplates();console.log("Templates data type:",typeof a),console.log("Templates is array:",Array.isArray(a));let r=Array.isArray(a)?a:[];e(r)}catch(t){console.error("Error fetching data:",t),(0,d.Am)({title:"Error",description:"Failed to load templates. Please try again.",variant:"destructive"})}finally{m(!1)}})()},[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"container mx-auto py-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Form Templates"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:"Browse ready-made templates or create your own"})]}),(0,a.jsx)(l.z,{onClick:()=>{T?A.push("/templates/create"):((0,d.Am)({title:"Authentication Required",description:"Please log in to create a template",variant:"default"}),A.push("/auth/login?redirect=/templates/create"))},children:"Create Template"})]}),(0,a.jsx)(o.k,{templates:t,topics:s,loading:f})]})})}},8752:function(t,e,s){"use strict";s.d(e,{Am:function(){return d},pm:function(){return p}});var a=s(2265);let r=0,o=new Map,n=t=>{if(o.has(t))return;let e=setTimeout(()=>{o.delete(t),u({type:"REMOVE_TOAST",toastId:t})},1e6);o.set(t,e)},i=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,10)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{let{toastId:s}=e;return s?n(s):t.toasts.forEach(t=>{n(t.id)}),{...t,toasts:t.toasts.map(t=>t.id===s||void 0===s?{...t,open:!1}:t)}}case"REMOVE_TOAST":if(void 0===e.toastId)return{...t,toasts:[]};return{...t,toasts:t.toasts.filter(t=>t.id!==e.toastId)}}},l=[],c={toasts:[]};function u(t){c=i(c,t),l.forEach(t=>{t(c)})}function d(t){let{...e}=t,s=(r=(r+1)%Number.MAX_VALUE).toString(),a=()=>u({type:"DISMISS_TOAST",toastId:s});return u({type:"ADD_TOAST",toast:{...e,id:s,open:!0,onOpenChange:t=>{t||a()}}}),{id:s,dismiss:a,update:t=>u({type:"UPDATE_TOAST",toast:{...t,id:s}})}}function p(){let[t,e]=a.useState(c);return a.useEffect(()=>(l.push(e),()=>{let t=l.indexOf(e);t>-1&&l.splice(t,1)}),[t]),{...t,toast:d,dismiss:t=>u({type:"DISMISS_TOAST",toastId:t})}}}},function(t){t.O(0,[284,73,972,52,534,763,558,26,971,117,744],function(){return t(t.s=8780)}),_N_E=t.O()}]);