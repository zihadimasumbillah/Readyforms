(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1686:function(e,s,t){Promise.resolve().then(t.bind(t,5485))},5485:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return g}});var a=t(7437),r=t(2265),l=t(7648),n=t(2381),o=t(6861),i=t(154),c=t(9820),d=t(3448);function m(e){let{className:s}=e;return(0,a.jsxs)("div",{className:(0,d.cn)("rounded-xl border border-muted bg-card shadow-md",s),children:[(0,a.jsxs)("div",{className:"flex h-10 items-center border-b bg-muted/50 px-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-red-500"}),(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-yellow-500"}),(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-green-500"})]}),(0,a.jsx)("div",{className:"mx-auto text-xs text-muted-foreground",children:"Preview of ReadyForms Dashboard"})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,a.jsxs)(c.Zb,{className:"shadow-sm",children:[(0,a.jsx)(c.Ol,{className:"p-3",children:(0,a.jsx)(c.ll,{className:"text-sm",children:"Total Templates"})}),(0,a.jsxs)(c.aY,{className:"p-3 pt-0",children:[(0,a.jsx)("p",{className:"text-2xl font-bold",children:"24"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"+12% from last month"})]})]}),(0,a.jsxs)(c.Zb,{className:"shadow-sm",children:[(0,a.jsx)(c.Ol,{className:"p-3",children:(0,a.jsx)(c.ll,{className:"text-sm",children:"Form Responses"})}),(0,a.jsxs)(c.aY,{className:"p-3 pt-0",children:[(0,a.jsx)("p",{className:"text-2xl font-bold",children:"142"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"+8% from last month"})]})]}),(0,a.jsxs)(c.Zb,{className:"shadow-sm",children:[(0,a.jsx)(c.Ol,{className:"p-3",children:(0,a.jsx)(c.ll,{className:"text-sm",children:"Completion Rate"})}),(0,a.jsxs)(c.aY,{className:"p-3 pt-0",children:[(0,a.jsx)("p",{className:"text-2xl font-bold",children:"87%"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"+3% from last month"})]})]})]}),(0,a.jsxs)(c.Zb,{className:"shadow-sm mb-4",children:[(0,a.jsx)(c.Ol,{className:"p-3",children:(0,a.jsx)(c.ll,{className:"text-sm",children:"Recent Templates"})}),(0,a.jsx)(c.aY,{className:"p-3 pt-0",children:(0,a.jsx)("div",{className:"space-y-2",children:["Customer Satisfaction Survey","Employee Feedback Form","Product Evaluation Quiz"].map((e,s)=>(0,a.jsxs)("div",{className:"flex justify-between border-b pb-1 last:border-0",children:[(0,a.jsx)("p",{className:"text-xs",children:e}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[s+1," day",0!==s?"s":""," ago"]})]},s))})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)(c.Zb,{className:"shadow-sm",children:[(0,a.jsx)(c.Ol,{className:"p-3",children:(0,a.jsx)(c.ll,{className:"text-sm",children:"Activity Overview"})}),(0,a.jsx)(c.aY,{className:"p-3 pt-0 h-20 flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-full h-8 bg-muted rounded-sm flex items-end",children:[30,45,20,60,75,45,35].map((e,s)=>(0,a.jsx)("div",{className:"flex-1 mx-0.5",style:{height:"".concat(e,"%"),backgroundColor:"var(--primary)"}},s))})})]}),(0,a.jsxs)(c.Zb,{className:"shadow-sm",children:[(0,a.jsx)(c.Ol,{className:"p-3",children:(0,a.jsx)(c.ll,{className:"text-sm",children:"Upcoming Tasks"})}),(0,a.jsx)(c.aY,{className:"p-3 pt-0",children:(0,a.jsx)("div",{className:"space-y-2",children:["Review responses","Update feedback form"].map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-primary"}),e]},s))})})]})]})]})]})}var u=t(2287),h=t(407),x=t(9140);function g(){let[e,s]=(0,r.useState)([]),[t,c]=(0,r.useState)([]),[d,g]=(0,r.useState)([]),[f,p]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{try{p(!0);let[e,t,a]=await Promise.all([o.t.getAllTemplates({limit:6,sort:"newest"}),o.t.getAllTemplates({limit:5,sort:"popular"}),i.wE.getAllTopics()]);s(e),c(t),g(a)}catch(e){console.error("Error fetching homepage data:",e)}finally{p(!1)}})()},[]),(0,a.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,a.jsx)("section",{className:"bg-gradient-to-b from-background to-muted/50 py-20 px-6",children:(0,a.jsx)("div",{className:"container mx-auto max-w-6xl",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl md:text-5xl font-bold leading-tight",children:"Create forms and surveys in minutes, not hours"}),(0,a.jsx)("p",{className:"mt-6 text-xl text-muted-foreground",children:"ReadyForms makes it easy to create, share, and analyze forms for any purpose"}),(0,a.jsxs)("div",{className:"mt-8 flex flex-col sm:flex-row gap-4",children:[(0,a.jsx)(n.z,{size:"lg",asChild:!0,children:(0,a.jsx)(l.default,{href:"/templates/create",children:"Create Your Form"})}),(0,a.jsx)(n.z,{size:"lg",variant:"outline",asChild:!0,children:(0,a.jsx)(l.default,{href:"/templates",children:"Browse Templates"})})]})]}),(0,a.jsx)("div",{className:"hidden md:block",children:(0,a.jsx)(m,{})})]})})}),(0,a.jsx)("section",{className:"py-16 px-6",children:(0,a.jsxs)("div",{className:"container mx-auto max-w-6xl",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold",children:"Recent Templates"}),(0,a.jsx)(n.z,{variant:"ghost",asChild:!0,children:(0,a.jsxs)(l.default,{href:"/templates",className:"flex items-center",children:["View all ",(0,a.jsx)(h.Z,{className:"ml-1 h-4 w-4"})]})})]}),f?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,s)=>(0,a.jsxs)("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:[(0,a.jsxs)("div",{className:"p-6 space-y-2",children:[(0,a.jsx)(x.O,{className:"h-5 w-2/3"}),(0,a.jsx)(x.O,{className:"h-4 w-full"}),(0,a.jsx)(x.O,{className:"h-4 w-3/4"})]}),(0,a.jsx)("div",{className:"p-6 border-t",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(x.O,{className:"h-4 w-1/3"}),(0,a.jsx)(x.O,{className:"h-8 w-16"})]})})]},s))}):(0,a.jsx)(u.k,{templates:e,topics:d})]})}),(0,a.jsx)("section",{className:"py-16 px-6 bg-muted/30",children:(0,a.jsxs)("div",{className:"container mx-auto max-w-6xl",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold",children:"Popular Templates"}),(0,a.jsx)(n.z,{variant:"ghost",asChild:!0,children:(0,a.jsxs)(l.default,{href:"/templates?sort=popular",className:"flex items-center",children:["View all ",(0,a.jsx)(h.Z,{className:"ml-1 h-4 w-4"})]})})]}),f?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:[(0,a.jsxs)("div",{className:"p-6 space-y-2",children:[(0,a.jsx)(x.O,{className:"h-5 w-2/3"}),(0,a.jsx)(x.O,{className:"h-4 w-full"}),(0,a.jsx)(x.O,{className:"h-4 w-3/4"})]}),(0,a.jsx)("div",{className:"p-6 border-t",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(x.O,{className:"h-4 w-1/3"}),(0,a.jsx)(x.O,{className:"h-8 w-16"})]})})]},s))}):(0,a.jsx)(u.k,{templates:t,topics:d})]})})]})}},2381:function(e,s,t){"use strict";t.d(s,{d:function(){return i},z:function(){return c}});var a=t(7437),r=t(2265),l=t(7495),n=t(535),o=t(3448);let i=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,s)=>{let{className:t,variant:r,size:n,asChild:c=!1,...d}=e,m=c?l.g7:"button";return(0,a.jsx)(m,{className:(0,o.cn)(i({variant:r,size:n,className:t})),ref:s,...d})});c.displayName="Button"},4881:function(e,s,t){"use strict";t.d(s,{AuthProvider:function(){return i},a:function(){return c}});var a=t(7437),r=t(2265),l=t(2471),n=t(9376);let o=(0,r.createContext)(null);function i(e){let{children:s}=e,[t,i]=(0,r.useState)(null),[c,d]=(0,r.useState)(!0);(0,n.useRouter)();let m=async()=>{try{let e=await l.O.getCurrentUser();return i(e),e}catch(e){return console.error("Failed to refresh user data:",e),null}};return(0,r.useEffect)(()=>{(async()=>{d(!0);try{if(l.O.isLoggedIn()){let e=await l.O.getCurrentUser();i(e)}}catch(e){console.error("Failed to load user:",e),l.O.logout()}finally{d(!1)}})()},[]),(0,a.jsx)(o.Provider,{value:{user:t,isLoading:c,login:(e,s)=>{localStorage.setItem("token",e),i(s)},logout:()=>{l.O.logout(),i(null)},refreshUser:m},children:s})}let c=()=>(0,r.useContext)(o)},5493:function(e,s,t){"use strict";let a=t(3464).Z.create({baseURL:"http://localhost:3001/api",headers:{"Content-Type":"application/json"},withCredentials:!1});a.interceptors.request.use(e=>{let s=localStorage.getItem("token");return s&&(e.headers.Authorization="Bearer ".concat(s)),e},e=>Promise.reject(e)),a.interceptors.response.use(e=>e,e=>{var s;return console.error("API Error:",(null===(s=e.response)||void 0===s?void 0:s.data)||e.message),e.response&&401===e.response.status&&(localStorage.removeItem("token"),window.location.pathname.includes("/auth/login")||(window.location.href="/auth/login?message=unauthorized")),Promise.reject(e)}),s.Z=a},2471:function(e,s,t){"use strict";t.d(s,{O:function(){return r}});var a=t(5493);let r={getToken:()=>localStorage.getItem("token"),async login(e,s){try{console.log("Logging in with:",{email:e});let t=await a.Z.post("/auth/login",{email:e,password:s});if(t.data&&t.data.token)localStorage.setItem("token",t.data.token),a.Z.defaults.headers.common.Authorization="Bearer ".concat(t.data.token);else throw console.error("Login response missing token:",t.data),Error("Invalid response format - missing token");return t.data}catch(e){var t;throw console.error("Login error:",(null===(t=e.response)||void 0===t?void 0:t.data)||e.message),e}},async register(e,s,t){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"en",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"light";try{console.log("Registering user:",{name:e,email:s}),delete a.Z.defaults.headers.common.Authorization;let n=await a.Z.post("/auth/register",{name:e,email:s,password:t,language:r,theme:l});if(console.log("Registration response:",n.data),n.data&&n.data.token)localStorage.setItem("token",n.data.token),a.Z.defaults.headers.common.Authorization="Bearer ".concat(n.data.token);else throw console.error("Registration response missing token:",n.data),Error("Invalid response format - missing token");return n.data}catch(e){var n;throw console.error("Registration error:",(null===(n=e.response)||void 0===n?void 0:n.data)||e.message),e}},async getCurrentUser(){try{let e=this.getToken();if(e)a.Z.defaults.headers.common.Authorization="Bearer ".concat(e);else throw Error("No authentication token found");return(await a.Z.get("/auth/me")).data}catch(s){var e;throw console.error("Get current user error:",(null===(e=s.response)||void 0===e?void 0:e.data)||s.message),s}},async updatePreferences(e,s){try{return(await a.Z.put("/auth/preferences",{language:e,theme:s})).data.user}catch(e){var t;throw console.error("Update preferences error:",(null===(t=e.response)||void 0===t?void 0:t.data)||e.message),e}},logout(){localStorage.removeItem("token"),delete a.Z.defaults.headers.common.Authorization},isLoggedIn(){return!!this.getToken()}}},3448:function(e,s,t){"use strict";t.d(s,{cn:function(){return l}});var a=t(1994),r=t(3335);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.m6)((0,a.W)(s))}}},function(e){e.O(0,[834,360,541,277,846,971,117,744],function(){return e(e.s=1686)}),_N_E=e.O()}]);