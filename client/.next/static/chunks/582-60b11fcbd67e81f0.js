"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[582],{227:function(e,s,a){a.d(s,{c:function(){return j},Z:function(){return j}});var t=a(7437),r=a(2265),l=a(1723),n=a(5302),i=a(2252),c=a(9174),d=a(1312),o=a(3448);let m=d.zt,h=d.fC,f=d.xz,x=r.forwardRef((e,s)=>{let{className:a,sideOffset:r=4,...l}=e;return(0,t.jsx)(d.VY,{ref:s,sideOffset:r,className:(0,o.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})});x.displayName=d.VY.displayName;var u=a(898);function j(e){let{showText:s=!1}=e,[a,d]=(0,r.useState)("checking"),[o,j]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let e=async()=>{d("checking");try{let e=await (0,u.Os)();d("ok"===e.status?"ok":"error")}catch(e){d("error")}j(new Date)};e();let s=setInterval(e,6e4);return()=>clearInterval(s)},[]),(0,t.jsx)(m,{children:(0,t.jsxs)(h,{children:[(0,t.jsx)(f,{asChild:!0,children:(0,t.jsxs)("div",{className:"flex items-center",children:["checking"===a&&(0,t.jsxs)(c.C,{variant:"outline",className:"py-1.5",children:[(0,t.jsx)(l.Z,{className:"h-4 w-4 animate-pulse"}),s&&(0,t.jsx)("span",{className:"ml-2",children:"Checking API"})]}),"ok"===a&&(0,t.jsxs)(c.C,{variant:"outline",className:"py-1.5 bg-green-500 text-white hover:bg-green-600",children:[(0,t.jsx)(n.Z,{className:"h-4 w-4"}),s&&(0,t.jsx)("span",{className:"ml-2",children:"API Online"})]}),"error"===a&&(0,t.jsxs)(c.C,{variant:"outline",className:"py-1.5 bg-red-500 text-white hover:bg-red-600",children:[(0,t.jsx)(i.Z,{className:"h-4 w-4"}),s&&(0,t.jsx)("span",{className:"ml-2",children:"API Offline"})]})]})}),(0,t.jsx)(x,{children:(0,t.jsxs)("div",{children:["API Status: ","ok"===a?"Online":"error"===a?"Offline":"Checking...",o&&(0,t.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:["Last checked: ",o.toLocaleTimeString()]})]})})]})})}},2573:function(e,s,a){a.d(s,{c:function(){return k}});var t=a(7437),r=a(2265),l=a(7648),n=a(9376),i=a(5466),c=a(1715),d=a(8736),o=a(3578),m=a(8293),h=a(2369),f=a(8728),x=a(7692),u=a(2489),j=a(3448),p=a(2381),N=a(6246),g=a(2060),w=a(9547),v=a(227);let b=e=>{let{href:s,icon:a,label:r,isActive:n,onClick:i}=e;return(0,t.jsx)(l.default,{href:s,onClick:i,children:(0,t.jsxs)("div",{className:(0,j.cn)("flex items-center gap-3 rounded-lg px-3 py-2 text-sm transition-all",n?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[a,r]})})};function k(e){let{children:s,user:a,onLogout:j}=e,[k,y]=(0,r.useState)(!1),C=(0,n.usePathname)(),Z=[{href:"/dashboard",icon:(0,t.jsx)(i.Z,{className:"h-4 w-4"}),label:"Dashboard"},{href:"/dashboard/templates",icon:(0,t.jsx)(c.Z,{className:"h-4 w-4"}),label:"My Templates"},{href:"/dashboard/responses",icon:(0,t.jsx)(d.Z,{className:"h-4 w-4"}),label:"Responses"},...(null==a?void 0:a.isAdmin)?[{href:"/admin",icon:(0,t.jsx)(o.Z,{className:"h-4 w-4"}),label:"Admin"}]:[]],A=()=>y(!1);return(0,t.jsxs)("div",{className:"h-full min-h-screen flex flex-col",children:[(0,t.jsxs)("header",{className:"sticky top-0 z-30 h-16 border-b bg-background flex items-center px-4 md:px-6",children:[(0,t.jsxs)(p.z,{variant:"ghost",size:"icon",className:"mr-2 md:hidden",onClick:()=>y(!k),children:[(0,t.jsx)(m.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle menu"})]}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)(l.default,{href:"/",className:"flex items-center gap-2",children:[(0,t.jsx)(c.Z,{className:"h-6 w-6"}),(0,t.jsx)("span",{className:"text-lg font-semibold",children:"ReadyForms"})]})}),(0,t.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[a.isAdmin&&(0,t.jsx)(v.Z,{}),(0,t.jsx)(w.T,{}),(0,t.jsxs)(g.h_,{children:[(0,t.jsx)(g.$F,{asChild:!0,children:(0,t.jsx)(p.z,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:(0,t.jsxs)(N.qE,{className:"h-8 w-8",children:[(0,t.jsx)(N.F$,{src:"",alt:a.name}),(0,t.jsx)(N.Q5,{children:a.name.split(" ").map(e=>e[0]).join("").toUpperCase()})]})})}),(0,t.jsxs)(g.AW,{className:"w-56",align:"end",forceMount:!0,children:[(0,t.jsx)(g.Ju,{className:"font-normal",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium leading-none",children:a.name}),(0,t.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:a.email})]})}),(0,t.jsx)(g.VD,{}),(0,t.jsx)(g.Xi,{asChild:!0,children:(0,t.jsxs)(l.default,{href:"/profile",children:[(0,t.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Profile"})]})}),(0,t.jsx)(g.Xi,{asChild:!0,children:(0,t.jsxs)(l.default,{href:"/settings",children:[(0,t.jsx)(f.Z,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Settings"})]})}),(0,t.jsx)(g.VD,{}),(0,t.jsxs)(g.Xi,{onClick:j,children:[(0,t.jsx)(x.Z,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Log out"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"flex-1 flex",children:[k&&(0,t.jsxs)("div",{className:"fixed inset-0 z-40 lg:hidden",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50",onClick:A}),(0,t.jsxs)("div",{className:"fixed inset-y-0 left-0 w-64 bg-background p-4 shadow-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Navigation"}),(0,t.jsxs)(p.z,{variant:"ghost",size:"icon",onClick:A,className:"lg:hidden",children:[(0,t.jsx)(u.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"Close menu"})]})]}),(0,t.jsx)("nav",{className:"grid gap-1",children:Z.map(e=>(0,t.jsx)(b,{href:e.href,icon:e.icon,label:e.label,isActive:C===e.href,onClick:A},e.href))})]})]}),(0,t.jsx)("div",{className:"hidden md:flex md:w-64 md:flex-col md:inset-y-0 border-r",children:(0,t.jsx)("div",{className:"flex-1 flex flex-col min-h-0 pt-6 px-4",children:(0,t.jsx)("nav",{className:"flex-1 space-y-1",children:Z.map(e=>(0,t.jsx)(b,{href:e.href,icon:e.icon,label:e.label,isActive:C===e.href},e.href))})})}),(0,t.jsx)("main",{className:"flex-1 overflow-auto p-4 md:p-6 bg-muted/20",children:s})]})]})}},9547:function(e,s,a){a.d(s,{T:function(){return d}});var t=a(7437);a(2265);var r=a(5929),l=a(7226),n=a(8298),i=a(2381),c=a(2060);function d(){let{setTheme:e}=(0,n.F)();return(0,t.jsxs)(c.h_,{children:[(0,t.jsx)(c.$F,{asChild:!0,children:(0,t.jsxs)(i.z,{variant:"outline",size:"icon",children:[(0,t.jsx)(r.Z,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,t.jsx)(l.Z,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,t.jsxs)(c.AW,{align:"end",children:[(0,t.jsx)(c.Xi,{onClick:()=>e("light"),children:"Light"}),(0,t.jsx)(c.Xi,{onClick:()=>e("dark"),children:"Dark"}),(0,t.jsx)(c.Xi,{onClick:()=>e("system"),children:"System"})]})]})}},6246:function(e,s,a){a.d(s,{F$:function(){return c},Q5:function(){return d},qE:function(){return i}});var t=a(7437),r=a(2265),l=a(1146),n=a(3448);let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.fC,{ref:s,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});i.displayName=l.fC.displayName;let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.Ee,{ref:s,className:(0,n.cn)("aspect-square h-full w-full",a),...r})});c.displayName=l.Ee.displayName;let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.NY,{ref:s,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});d.displayName=l.NY.displayName},9820:function(e,s,a){a.d(s,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return n},aY:function(){return o},eW:function(){return m},ll:function(){return c}});var t=a(7437),r=a(2265),l=a(3448);let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});n.displayName="Card";let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});i.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",a),...r})});o.displayName="CardContent";let m=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})});m.displayName="CardFooter"},898:function(e,s,a){a.d(s,{Os:function(){return r}});var t=a(9642);let r=async()=>{try{let e=await t.Z.get("/health/ping");return{status:"ok",message:"API server is responding",data:e.data,timestamp:new Date}}catch(e){return{status:"error",message:"API server is not responding",error:e.message,timestamp:new Date}}};s.ZP={checkHealth:async()=>r(),async checkDatabase(){try{let e=await t.Z.get("/health/database");return{status:"ok",message:"Database is connected",data:e.data,timestamp:new Date}}catch(e){return{status:"error",message:"Database health check failed",error:e.message,timestamp:new Date}}},async checkAuth(){try{let e=await t.Z.get("/auth/check");return{status:"ok",message:"Auth system is working",data:e.data,timestamp:new Date}}catch(e){return{status:"error",message:"Auth system check failed",error:e.message,timestamp:new Date}}},async checkAll(){let e={api:await this.checkHealth(),database:await this.checkDatabase(),auth:await this.checkAuth(),timestamp:new Date};return{status:Object.values(e).some(e=>"error"===e.status)?"error":"ok",results:e,timestamp:new Date}}}}}]);